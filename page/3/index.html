<!DOCTYPE html>
<html lang="en">
  <head>
	<meta name="generator" content="Hugo 0.67.0-DEV" />
    
      <title>
        Strawbreey Notes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content=""
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Strawbreey Notes"/>
<meta name="twitter:description" content=""/>



<meta property="og:title" content="Strawbreey Notes" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/" />
<meta property="og:updated_time" content="2020-09-14T16:46:08+08:00" /><meta property="og:site_name" content="Strawbreey Notes" />



<link rel="alternate" type="application/rss+xml" href="/index.xml" title="Strawbreey Notes" />



  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Strawbreey Notes</span
    >
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  
  
    
  
  

  

  <div class="posts">
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-chaining-methods/">Js Chaining Methods</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            26109-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            Chaining Methods, also known as Cascading, means repeatedly calling one method after another on an object, in one continuous line of code. Let us look at an example where method chaining can help us avoid repetition.
class Car {constructor() {this.wheels = 4this.doors = 4this.topSpeed = 100this.feulCapacity = &quot;400 Litres&quot;}setWheels(w) {this.wheels = w;return this;}setDoors(d) {this.doors = d;return this;}setTopSpeed(t) {this.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-chaining-methods/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/vue-optimize/">Vue Optimize</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            26109-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/vue-optimize/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/angular-optimize/">Angular Optimize</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            26109-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            ChangeDetectionStrategy.OnPush
Detaching the Change Detector
Local Change Detection
Run outside Angular
Use trackBy option for *ngFor directive
Web Workers
Pure pipes instead of functions/getters in templates
Async pipe
Track by function
Unsubscribing
Webpack Bundle Analyzer
You probably don’t need external libraries
Styles per component
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/angular-optimize/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/gitignore/">Gitignore</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            26109-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/gitignore/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/webpack-tutorial/">Webpack Tutorial</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            24109-10-24
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/webpack-tutorial/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/rxjs-tutorial/">Rxjs Tutorial</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            24109-10-24
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/rxjs-tutorial/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-map-and-set/">Js Map and Set</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            23109-10-23
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            Map Map 是一个带键的数据项的集合，就像一个 Object 一样。 但是它们最大的差别是 Map 允许任何类型的键（key）
它的方法和属性如下：
new Map() —— 创建 map。 map.set(key, value) —— 根据键存储值。 map.get(key) —— 根据键来返回值，如果 map 中不存在对应的 key，则返回 undefined。 map.has(key) —— 如果 key 存在则返回 true，否则返回 false。 map.delete(key) —— 删除指定键的值。 map.clear() —— 清空 map。 map.size —— 返回当前元素个数。  let map = new Map();map.set('1', 'str1'); // 字符串键map.set(1, 'num1'); // 数字键map.set(true, 'bool1'); // 布尔值键// 还记得普通的 Object 吗? 它会将键转化为字符串// Map 则会保留键的类型，所以下面这两个结果不同：alert( map.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-map-and-set/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-getter-and-setter/">Js Getter and Setter</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            23109-10-23
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            有两种类型的对象属性。
第一种是 数据属性。我们已经知道如何使用它们了。到目前为止，我们使用过的所有属性都是数据属性。
第二种类型的属性是新东西。它是 访问器属性（accessor properties）。它们本质上是用于获取和设置值的函数，但从外部代码来看就像常规属性。
Getter 和 setter 访问器属性由 “getter” 和 “setter” 方法表示。在对象字面量中，它们用 get 和 set 表示：
let obj = {get propName() {// 当读取 obj.propName 时，getter 起作用 },set propName(value) {// 当执行 obj.propName = value 操作时，setter 起作用 }};从外表看，访问器属性看起来就像一个普通属性。这就是访问器属性的设计思想。我们不以函数的方式 调用 user.fullName，我们正常 读取 它：getter 在幕后运行。
访问器描述符 访问器属性的描述符与数据属性的不同。
对于访问器属性，没有 value 和 writable，但是有 get 和 set 函数。
所以访问器描述符可能有：
get —— 一个没有参数的函数，在读取属性时工作， set —— 带有一个参数的函数，当属性被设置时调用， enumerable —— 与数据属性的相同， configurable —— 与数据属性的相同。  更聪明的 getter/setter Getter/setter 可以用作“真实”属性值的包装器，以便对它们进行更多的控制。
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-getter-and-setter/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/redis-interview/">Redis Interview</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            22109-10-22
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            简单介绍一下 Redis Redis 是一个用 C 语言内写的 开源高性能key-value非关系缓存(内存)数据库，它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set –有序集合)和hash（哈希类型） 。读写速度非常快，因此 Redis 被广泛应用于缓存方向。
另外，Redis 除了做缓存之外，Redis 也经常用来做分布式锁，甚至是消息队列。
Redis 提供了多种数据类型来支持不同的业务场景。Redis 还支持事务 、持久化、Lua 脚本、多种集群方案。
优点
读写性能优异， Redis能读的速度是110000次/s，写的速度是81000次/s。 支持数据持久化，支持AOF和RDB两种持久化方式。 支持事务，Redis的所有操作都是原子性的，同时Redis还支持对几个操作合并后的原子性执行。 数据结构丰富，除了支持string类型的value外还支持hash、set、zset、list等数据结构。 支持主从复制，主机会自动将数据同步到从机，可以进行读写分离。  缺点
数据库容量受到物理内存的限制，不能用作海量数据的高性能读写，因此Redis适合的场景主要局限在较小数据量的高性能操作和运算上。 Redis 不具备自动容错和恢复功能，主机从机的宕机都会导致前端部分读写请求失败，需要等待机器重启或者手动切换前端的IP才能恢复。 主机宕机，宕机前有部分数据未能及时同步到从机，切换IP后还会引入数据不一致的问题，降低了系统的可用性。 Redis 较难支持在线扩容，在集群容量达到上限时在线扩容会变得很复杂。为避免这一问题，运维人员在系统上线时必须确保有足够的空间，这对资源造成了很大的浪费。  为什么要用redis  高性能：  假如用户第一次访问数据库中的某些数据。这个过程会比较慢，因为是从硬盘上读取的。将该用户访问的数据存在数缓存中，这样下一次再访问这些数据的时候就可以直接从缓存中获取了。操作缓存就是直接操作内存，所以速度相当快。如果数据库中的对应数据改变的之后，同步改变缓存中相应的数据即可！
高并发：  直接操作缓存能够承受的请求是远远大于直接访问数据库的，所以我们可以考虑把数据库中的部分数据转移到缓存中去，这样用户的一部分请求会直接到缓存这里而不用经过数据库。
为什么要用 Redis 而不用 map/guava 做缓存?
map/guava 要自己不能实现分布式
redis 为什么这么快   完全基于内存，绝大部分请求是纯粹的内存操作，非常快速。数据存在内存中，类似于 HashMap，HashMap 的优势就是查找和操作的时间复杂度都是O(1)；
数据结构简单，对数据操作也简单，Redis 中的数据结构是专门进行设计的；
采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗；
使用多路 I/O 复用模型，非阻塞 IO；
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/redis-interview/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/sql-interview/">Sql Interview</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            22109-10-22
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            数据库的命令规划  所有数据库对象名称必须使用小写字母并用下划线分割 所有数据库对象名称禁止使用 MySQL 保留关键字（如果表名中包含关键字查询时，需要将其用单引号括起来） 数据库对象的命名要能做到见名识意，并且最后不要超过 32 个字符 临时库表必须以 tmp_为前缀并以日期为后缀，备份表必须以 bak_为前缀并以日期 (时间戳) 为后缀 所有存储相同数据的列名和列类型必须一致（一般作为关联列，如果查询时关联列类型不一致会自动进行数据类型隐式转换，会造成列上的索引失效，导致查询效率降低）  数据库基本设计规范   所有表必须使用 Innodb 存储引擎
数据库和表的字符集统一使用 UTF8
兼容性更好，统一字符集可以避免由于字符集转换产生的乱码，不同的字符集进行比较前需要进行转换会造成索引失效，如果数据库中有存储 emoji 表情的需要，字符集需要采用 utf8mb4 字符集。
所有表和字段都需要添加注释
使用 comment 从句添加表和列的备注，从一开始就进行数据字典的维护
尽量控制单表数据量的大小,建议控制在 500 万以内。
500 万并不是 MySQL 数据库的限制，过大会造成修改表结构，备份，恢复都会有很大的问题。
可以用历史数据归档（应用于日志数据），分库分表（应用于业务数据）等手段来控制数据量大小
谨慎使用 MySQL 分区表
分区表在物理上表现为多个文件，在逻辑上表现为一个表；
谨慎选择分区键，跨分区查询效率可能更低；
建议采用物理分表的方式管理大数据。
.尽量做到冷热数据分离,减小表的宽度
MySQL 限制每个表最多存储 4096 列，并且每一行数据的大小不能超过 65535 字节。
减少磁盘 IO,保证热数据的内存缓存命中率（表越宽，把表装载进内存缓冲池时所占用的内存也就越大,也会消耗更多的 IO）；
更有效的利用缓存，避免读入无用的冷数据；
经常一起使用的列放到一个表中（避免更多的关联操作）
禁止在表中建立预留字段
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/sql-interview/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/yii-active-query/">Yii Active Query</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            22109-10-22
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            ActiveQuery mainly provides the following methods to retrieve the query results:
one(): returns a single record populated with the first row of data. all(): returns all records based on the query results. count(): returns the number of records. sum(): returns the sum over the specified column. average(): returns the average over the specified column. min(): returns the min over the specified column. max(): returns the max over the specified column.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/yii-active-query/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-promise/">Js Promise</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            21109-10-21
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            Promise 对象的构造器（constructor）语法如下：
let promise = new Promise(function(resolve, reject) {// executor（生产者代码，“歌手”）});当 executor 获得了结果，无论是早还是晚都没关系，它应该调用以下回调之一：
resolve(value) — 如果任务成功完成并带有结果 value。 reject(error) — 如果出现了 error，error 即为 error 对象。
Promise 是一个对象，它代表了一个异步操作的最终完成或者失败。
// 成功的回调函数function successCallback(result) {console.log(&quot;音频文件创建成功: &quot; + result);}// 失败的回调函数function failureCallback(error) {console.log(&quot;音频文件创建失败: &quot; + error);}createAudioFileAsync(audioSettings, successCallback, failureCallback)const promise = createAudioFileAsync(audioSettings); promise.then(successCallback, failureCallback);// 简写createAudioFileAsync(audioSettings).then(successCallback, failureCallback);约定 不同于“老式”的传入回调，在使用 Promise 时，会有以下约定：
在本轮 事件循环 运行完成之前，回调函数是不会被调用的。 即使异步操作已经完成（成功或失败），在这之后通过 then() 添加的回调函数也会被调用。 通过多次调用 then() 可以添加多个回调函数，它们会按照插入顺序进行执行。  Promise 很棒的一点就是链式调用（chaining）。
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-promise/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/php-header/">Php Header</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            21109-10-21
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            fread
fread — 读取文件（可安全用于二进制文件）
fread ( resource $handle , int $length ) : string// handle 文件系统指针，是典型地由 fopen() 创建的 resource(资源)。// length 最多读取 length 个字节。fread() 从文件指针 handle 读取最多 length 个字节。 该函数在遇上以下几种情况时停止读取文件：
读取了 length 个字节 到达了文件末尾（EOF） a packet becomes available or the socket timeout occurs (for network streams) if the stream is read buffered and it does not represent a plain file, at most one read of up to a number of bytes equal to the chunk size (usually 8192) is made; depending on the previously buffered data, the size of the returned data may be larger than the chunk size.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/php-header/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/nignx-x-sendfile/">Nignx X Sendfile</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            21109-10-21
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            很多时候用户需要从网站下载文件，如果文件是可以通过一个固定链接公开获取的，那么我们只需将文件存放到 webroot下的目录里就好。但大多数情况下，我们需要做权限控制，例如下载 PDF 账单，又例如下载网盘里的档案。这时，我们通常借助于脚本代码来实现，而这无疑会增加服务器的负担。
// 用户身份认证，若验证失败跳转authenticate();// 获取需要下载的文件，若文件不存在跳转$file = determine_file();// 读取文件内容$content=file_get_contents($file);// 发送合适的 HTTP 头header(&quot;Content-type: application/octet-stream&quot;);header('Content-Disposition: attachment; filename=&quot;' . basename($file) . '&quot;');header(&quot;Content-Length: &quot;. filesize($file));echo $content; // 或者 readfile($file);这样做意味着我们的程序需要将文件内容从磁盘经过一个固定的 buffer 去循环读取到内存，再发送给前端 web 服务器，最后才到达用户。当需要下载的文件很大的时候，这种方式将消耗大量内存，甚至引发 php 进程超时或崩溃。Cache 也很头疼，更不用说中断重连的情况了。 一个理想的解决方式应该是，由 php 程序进行权限检查等逻辑判断，一切通过后，让前台的 web 服务器直接将文件发送给用户——像 Nginx 这样的前台更善于处理静态文件。这样一来 php 脚本就不会被 I/O 阻塞了。
X-Sendfile X-Sendfile 是一种将文件下载请求由后端应用转交给前端 web 服务器处理的机制，它可以消除后端程序既要读文件又要处理发送的压力，从而显著提高服务器效率，特别是处理大文件下载的情形下。
X-Sendfile 通过一个特定的 HTTP header 来实现：在 X-Sendfile 头中指定一个文件的地址来通告前端 web 服务器。当 web 服务器检测到后端发送的这个 header 后，它将忽略后端的其他输出，而使用自身的组件（包括 缓存头 和 断点重连 等优化）机制将文件发送给用户。
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/nignx-x-sendfile/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/php-flush-and-ob_flush/">Php Flush and Ob_flush</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            21109-10-21
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            flush flush — 刷新输出缓冲
flush ( void ) : void刷新PHP程序的缓冲，而不论PHP执行在何种情况下（CGI ，web服务器等等）。该函数将当前为止程序的所有输出发送到用户的浏览器。
flush() 函数不会对服务器或客户端浏览器的缓存模式产生影响。因此，必须同时使用 ob_flush() 和flush() 函数来刷新输出缓冲。
个别web服务器程序，特别是Win32下的web服务器程序，在发送结果到浏览器之前，仍然会缓存脚本的输出，直到程序结束为止。
有些Apache的模块，比如mod_gzip，可能自己进行输出缓存，这将导致flush()函数产生的结果不会立即被发送到客户端浏览器。
甚至浏览器也会在显示之前，缓存接收到的内容。例如 Netscape 浏览器会在接受到换行或 html 标记的开头之前缓存内容，并且在接受到 标记之前，不会显示出整个表格。
ob_flush ob_flush — 冲刷出（送出）输出缓冲区中的内容
ob_flush ( void ) : void这个函数将送出缓冲区的内容（如果里边有内容的话）。如果想进一步处理缓冲区中的内容，必须在ob_flush()之前调用ob_get_contents() ，因为在调用ob_flush()之后缓冲区内容将被丢弃。
此函数不会销毁输出缓冲区，而像ob_end_flush() 函数会销毁缓冲区。
ob_clean ob_clean — 清空（擦掉）输出缓冲区
ob_clean ( void ) : void此函数用来丢弃输出缓冲区中的内容。
此函数不会像 ob_end_clean() 函数那样销毁输出缓冲区。
输出缓冲必须已被 ob_start() 以 PHP_OUTPUT_HANDLER_CLEANABLE 标记启动。否则 ob_clean() 不会有效果。
ob_end_clean ob_end_clean — 清空（擦除）缓冲区并关闭输出缓冲
ob_end_clean ( void ) : bool此函数丢弃最顶层输出缓冲区的内容并关闭这个缓冲区。如果想要进一步处理缓冲区的内容，必须在ob_end_clean()之前调用ob_get_contents()，因为当调用ob_end_clean()时缓冲区内容将被丢弃。
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/php-flush-and-ob_flush/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/php-download/">Php Download</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            21109-10-21
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/php-download/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/network-agent/">Network Agent</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            20109-10-20
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/network-agent/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/php-timeout/">Php Timeout</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            20109-10-20
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            设置PHP脚本执行超时的时间有下面这样一些方法：
php.ini 中限定程序的最长执行时间是 30 秒，这是由 php.ini 配置文件中的 max_execution_time 变量指定，倘若你有一个需要颇多时间才能完成的程序代码，代码会由于超时而执行失败，例如要发送很多电子邮件给大量收件者，或者要进行繁重的数据分析工作，服务器会在 30 秒后强行中止正在执行的程序，如何解决这个问题呢。
在php.ini里面设置 max_execution_time = 1800; 脚本被解析器中止之前允许的最大执行时间
通过PHP的 ini_set 函数设置 ini_set(“max_execution_time”, “1800”);
通过set_time_limit 函数设置 set_time_limit(1800) ;
在php-fpm.conf中设置 request_terminate_timeout 请求开始n秒
注意
request_terminate_timeout 适用于，当max_execution_time由于某种原因无法终止脚本的时候，会把这个php-fpm请求干掉。
web请求php执行时间受到2方面控制，一个是php.ini的max_execution_time（要注意的是sleep，http请求等待响应的时间是不算的，这里算的是真正的执行时间），另一个是php-fpm request_terminate_timeout 设置，这个算的是请求开始n秒。
nginx的关键参数是 fastcgi 相关的 timeout，即：fastcgi_connect_timeout，fastcgi_read_timeout，fastcgi_send_timeout
这几个 nginx 参数的主语都是 nginx，所以 fastcgi_connect_timeout 的意思是 nginx 连接到 fastcgi 的超时时间，fastcgi_read_timeout 是 nginx 读取 fastcgi 的内容的超时时间，fastcgi_send_timeout 是 nginx 发送内容到 fastcgi 的超时时间。
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/php-timeout/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/vim-swap/">Vim Swap</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            20109-10-20
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            Found a swap file by the name E325: ATTENTIONFound a swap file by the name &quot;.git/.MERGE_MSG.swp&quot;owned by: xxxxxx dated: Mon Nov 12 23:17:40 2012file name: ~xxxxxx/Desktop/My-ios-App/.git/MERGE_MSGmodified: YESuser name: xxxxxx host name: unknown-b8-8d-12-22-27-72.lanprocess ID: 1639While opening file &quot;.git/MERGE_MSG&quot;dated: Tue Nov 13 14:06:48 2012NEWER than swap file!(1) Another program may be editing the same file.If this is the case, be careful not to end up with twodifferent instances of the same file when making changes.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/vim-swap/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/php-exit-and-die/">Php Exit and Die</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            20109-10-20
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/php-exit-and-die/">Read more →</a></div>
      
    </div>
    
    <div class="pagination">
  <div class="pagination__buttons">
    
      <span class="button previous">
        <a href="/page/2/">
          <span class="button__icon">←</span>
          <span class="button__text">Newer posts</span>
        </a>
      </span>
    
    
      <span class="button next">
        <a href="/page/4/">
          <span class="button__text">Older posts</span>
          <span class="button__icon">→</span>
        </a>
      </span>
    
  </div>
</div>

  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright©2019-2020 Strawbreey. All Rights Reserved</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
