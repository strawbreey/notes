<!DOCTYPE html>
<html lang="en">
  <head>
	<meta name="generator" content="Hugo 0.67.0-DEV" />
    
      <title>
        Strawbreey Notes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content=""
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/styles/atom-one-dark.min.css">

<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/favicon.png" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Strawbreey Notes"/>
<meta name="twitter:description" content=""/>



<meta property="og:title" content="Strawbreey Notes" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/" />
<meta property="og:updated_time" content="2020-09-14T16:46:08+08:00" /><meta property="og:site_name" content="Strawbreey Notes" />



<link rel="alternate" type="application/rss+xml" href="/index.xml" title="Strawbreey Notes" />



  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    
    <span class="logo__text">
      Strawbreey Notes
    </span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  
  
    
  
  

  

  <div class="posts">
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/message-queue/">Message Queue</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-28
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/message-queue/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/angular-trackby/">Angular TrackBy</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-27
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/angular-trackby/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/php-fastcgi/">Php Fastcgi</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-27
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/php-fastcgi/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/http-load-balancer/">Http Load Balancer</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-27
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/http-load-balancer/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-apply-bind-and-call/">Js Apply Bind and Call</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-apply-bind-and-call/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-apply/">Js Apply</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-apply/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-currying/">Js Currying</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            函数柯里化 函数柯里化概念： 柯里化（Currying）是把接受多个参数的函数转变为接受一个单一参数的函数，并且返回接受余下的参数且返回结果的新函数的技术
柯里化（Currying）是一种关于函数的高阶技术。它不仅被用于 JavaScript，还被用于其他编程语言。
柯里化是一种函数的转换，它是指将一个函数从可调用的 f(a, b, c) 转换为可调用的 f(a)(b)(c)。
柯里化不会调用函数。它只是对函数进行转换。
function add (a) {return function (b) {return function (c) {return a + b + c;}}}// 输入add(1)(2)(3); // 6// 柯里化解决方案const curry = (fn) =&gt;(judge = (&hellip;args) =&gt; args.length === fn.length ? fn(&hellip;args) : (&hellip;arg) =&gt; judge(&hellip;args, &hellip;arg));const add = (a, b, c) =&gt; a + b + c;const curryAdd = curry(add);console.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-currying/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-chaining-methods/">Js Chaining Methods</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            Chaining Methods, also known as Cascading, means repeatedly calling one method after another on an object, in one continuous line of code. Let us look at an example where method chaining can help us avoid repetition.
class Car {constructor() {this.wheels = 4this.doors = 4this.topSpeed = 100this.feulCapacity = &quot;400 Litres&quot;}setWheels(w) {this.wheels = w;return this;}setDoors(d) {this.doors = d;return this;}setTopSpeed(t) {this.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-chaining-methods/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/vue-optimize/">Vue Optimize</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/vue-optimize/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/angular-optimize/">Angular Optimize</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            ChangeDetectionStrategy.OnPush
Detaching the Change Detector
Local Change Detection
Run outside Angular
Use trackBy option for *ngFor directive
Web Workers
Pure pipes instead of functions/getters in templates
Async pipe
Track by function
Unsubscribing
Webpack Bundle Analyzer
You probably don’t need external libraries
Styles per component
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/angular-optimize/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/gitignore/">Gitignore</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-26
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/gitignore/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/webpack-tutorial/">Webpack Tutorial</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-24
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/webpack-tutorial/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/rxjs-tutorial/">Rxjs Tutorial</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-24
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/rxjs-tutorial/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-map-and-set/">Js Map and Set</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-23
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            Map Map 是一个带键的数据项的集合，就像一个 Object 一样。 但是它们最大的差别是 Map 允许任何类型的键（key）
它的方法和属性如下：
new Map() —— 创建 map。 map.set(key, value) —— 根据键存储值。 map.get(key) —— 根据键来返回值，如果 map 中不存在对应的 key，则返回 undefined。 map.has(key) —— 如果 key 存在则返回 true，否则返回 false。 map.delete(key) —— 删除指定键的值。 map.clear() —— 清空 map。 map.size —— 返回当前元素个数。  let map = new Map();map.set('1', 'str1'); // 字符串键map.set(1, 'num1'); // 数字键map.set(true, 'bool1'); // 布尔值键// 还记得普通的 Object 吗? 它会将键转化为字符串// Map 则会保留键的类型，所以下面这两个结果不同：alert( map.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-map-and-set/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-getter-and-setter/">Js Getter and Setter</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-23
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            有两种类型的对象属性。
第一种是 数据属性。我们已经知道如何使用它们了。到目前为止，我们使用过的所有属性都是数据属性。
第二种类型的属性是新东西。它是 访问器属性（accessor properties）。它们本质上是用于获取和设置值的函数，但从外部代码来看就像常规属性。
Getter 和 setter 访问器属性由 “getter” 和 “setter” 方法表示。在对象字面量中，它们用 get 和 set 表示：
let obj = {get propName() {// 当读取 obj.propName 时，getter 起作用 },set propName(value) {// 当执行 obj.propName = value 操作时，setter 起作用 }};从外表看，访问器属性看起来就像一个普通属性。这就是访问器属性的设计思想。我们不以函数的方式 调用 user.fullName，我们正常 读取 它：getter 在幕后运行。
访问器描述符 访问器属性的描述符与数据属性的不同。
对于访问器属性，没有 value 和 writable，但是有 get 和 set 函数。
所以访问器描述符可能有：
get —— 一个没有参数的函数，在读取属性时工作， set —— 带有一个参数的函数，当属性被设置时调用， enumerable —— 与数据属性的相同， configurable —— 与数据属性的相同。  更聪明的 getter/setter Getter/setter 可以用作“真实”属性值的包装器，以便对它们进行更多的控制。
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-getter-and-setter/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/redis-interview/">Redis Interview</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-22
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            简单介绍一下 Redis Redis 是一个用 C 语言内写的 开源高性能key-value非关系缓存(内存)数据库，它支持存储的value类型相对更多，包括string(字符串)、list(链表)、set(集合)、zset(sorted set –有序集合)和hash（哈希类型） 。读写速度非常快，因此 Redis 被广泛应用于缓存方向。
另外，Redis 除了做缓存之外，Redis 也经常用来做分布式锁，甚至是消息队列。
Redis 提供了多种数据类型来支持不同的业务场景。Redis 还支持事务 、持久化、Lua 脚本、多种集群方案。
优点
读写性能优异， Redis能读的速度是110000次/s，写的速度是81000次/s。 支持数据持久化，支持AOF和RDB两种持久化方式。 支持事务，Redis的所有操作都是原子性的，同时Redis还支持对几个操作合并后的原子性执行。 数据结构丰富，除了支持string类型的value外还支持hash、set、zset、list等数据结构。 支持主从复制，主机会自动将数据同步到从机，可以进行读写分离。  缺点
数据库容量受到物理内存的限制，不能用作海量数据的高性能读写，因此Redis适合的场景主要局限在较小数据量的高性能操作和运算上。 Redis 不具备自动容错和恢复功能，主机从机的宕机都会导致前端部分读写请求失败，需要等待机器重启或者手动切换前端的IP才能恢复。 主机宕机，宕机前有部分数据未能及时同步到从机，切换IP后还会引入数据不一致的问题，降低了系统的可用性。 Redis 较难支持在线扩容，在集群容量达到上限时在线扩容会变得很复杂。为避免这一问题，运维人员在系统上线时必须确保有足够的空间，这对资源造成了很大的浪费。  为什么要用redis  高性能：  假如用户第一次访问数据库中的某些数据。这个过程会比较慢，因为是从硬盘上读取的。将该用户访问的数据存在数缓存中，这样下一次再访问这些数据的时候就可以直接从缓存中获取了。操作缓存就是直接操作内存，所以速度相当快。如果数据库中的对应数据改变的之后，同步改变缓存中相应的数据即可！
高并发：  直接操作缓存能够承受的请求是远远大于直接访问数据库的，所以我们可以考虑把数据库中的部分数据转移到缓存中去，这样用户的一部分请求会直接到缓存这里而不用经过数据库。
为什么要用 Redis 而不用 map/guava 做缓存?
map/guava 要自己不能实现分布式
redis 为什么这么快   完全基于内存，绝大部分请求是纯粹的内存操作，非常快速。数据存在内存中，类似于 HashMap，HashMap 的优势就是查找和操作的时间复杂度都是O(1)；
数据结构简单，对数据操作也简单，Redis 中的数据结构是专门进行设计的；
采用单线程，避免了不必要的上下文切换和竞争条件，也不存在多进程或者多线程导致的切换而消耗 CPU，不用去考虑各种锁的问题，不存在加锁释放锁操作，没有因为可能出现死锁而导致的性能消耗；
使用多路 I/O 复用模型，非阻塞 IO；
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/redis-interview/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/sql-interview/">Sql Interview</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-22
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            数据库的命令规划  所有数据库对象名称必须使用小写字母并用下划线分割 所有数据库对象名称禁止使用 MySQL 保留关键字（如果表名中包含关键字查询时，需要将其用单引号括起来） 数据库对象的命名要能做到见名识意，并且最后不要超过 32 个字符 临时库表必须以 tmp_为前缀并以日期为后缀，备份表必须以 bak_为前缀并以日期 (时间戳) 为后缀 所有存储相同数据的列名和列类型必须一致（一般作为关联列，如果查询时关联列类型不一致会自动进行数据类型隐式转换，会造成列上的索引失效，导致查询效率降低）  数据库基本设计规范   所有表必须使用 Innodb 存储引擎
数据库和表的字符集统一使用 UTF8
兼容性更好，统一字符集可以避免由于字符集转换产生的乱码，不同的字符集进行比较前需要进行转换会造成索引失效，如果数据库中有存储 emoji 表情的需要，字符集需要采用 utf8mb4 字符集。
所有表和字段都需要添加注释
使用 comment 从句添加表和列的备注，从一开始就进行数据字典的维护
尽量控制单表数据量的大小,建议控制在 500 万以内。
500 万并不是 MySQL 数据库的限制，过大会造成修改表结构，备份，恢复都会有很大的问题。
可以用历史数据归档（应用于日志数据），分库分表（应用于业务数据）等手段来控制数据量大小
谨慎使用 MySQL 分区表
分区表在物理上表现为多个文件，在逻辑上表现为一个表；
谨慎选择分区键，跨分区查询效率可能更低；
建议采用物理分表的方式管理大数据。
.尽量做到冷热数据分离,减小表的宽度
MySQL 限制每个表最多存储 4096 列，并且每一行数据的大小不能超过 65535 字节。
减少磁盘 IO,保证热数据的内存缓存命中率（表越宽，把表装载进内存缓冲池时所占用的内存也就越大,也会消耗更多的 IO）；
更有效的利用缓存，避免读入无用的冷数据；
经常一起使用的列放到一个表中（避免更多的关联操作）
禁止在表中建立预留字段
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/sql-interview/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/yii-active-query/">Yii Active Query</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-22
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            ActiveQuery mainly provides the following methods to retrieve the query results:
one(): returns a single record populated with the first row of data. all(): returns all records based on the query results. count(): returns the number of records. sum(): returns the sum over the specified column. average(): returns the average over the specified column. min(): returns the min over the specified column. max(): returns the max over the specified column.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/yii-active-query/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/js-promise/">Js Promise</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-21
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            Promise 对象的构造器（constructor）语法如下：
let promise = new Promise(function(resolve, reject) {// executor（生产者代码，“歌手”）});当 executor 获得了结果，无论是早还是晚都没关系，它应该调用以下回调之一：
resolve(value) — 如果任务成功完成并带有结果 value。 reject(error) — 如果出现了 error，error 即为 error 对象。
Promise 是一个对象，它代表了一个异步操作的最终完成或者失败。
// 成功的回调函数function successCallback(result) {console.log(&quot;音频文件创建成功: &quot; + result);}// 失败的回调函数function failureCallback(error) {console.log(&quot;音频文件创建失败: &quot; + error);}createAudioFileAsync(audioSettings, successCallback, failureCallback)const promise = createAudioFileAsync(audioSettings); promise.then(successCallback, failureCallback);// 简写createAudioFileAsync(audioSettings).then(successCallback, failureCallback);约定 不同于“老式”的传入回调，在使用 Promise 时，会有以下约定：
在本轮 事件循环 运行完成之前，回调函数是不会被调用的。 即使异步操作已经完成（成功或失败），在这之后通过 then() 添加的回调函数也会被调用。 通过多次调用 then() 可以添加多个回调函数，它们会按照插入顺序进行执行。  Promise 很棒的一点就是链式调用（chaining）。
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/js-promise/">Read more →</a></div>
      
    </div>
    
    <div class="post on-list">
      <h1 class="post-title"><a href="/posts/php-header/">Php Header</a></h1>
      <div class="post-meta">
        
          <span class="post-date">
            2020-10-21
          </span>

          
        

        

        
      </div>

      

      

      <div class="post-content">
        
          
            fread
fread — 读取文件（可安全用于二进制文件）
fread ( resource $handle , int $length ) : string// handle 文件系统指针，是典型地由 fopen() 创建的 resource(资源)。// length 最多读取 length 个字节。fread() 从文件指针 handle 读取最多 length 个字节。 该函数在遇上以下几种情况时停止读取文件：
读取了 length 个字节 到达了文件末尾（EOF） a packet becomes available or the socket timeout occurs (for network streams) if the stream is read buffered and it does not represent a plain file, at most one read of up to a number of bytes equal to the chunk size (usually 8192) is made; depending on the previously buffered data, the size of the returned data may be larger than the chunk size.
          
        
      </div>
      
        <div><a class="read-more button" href="/posts/php-header/">Read more →</a></div>
      
    </div>
    
    <div class="pagination">
  <div class="pagination__buttons">
    
      <span class="button previous">
        <a href="/page/3/">
          <span class="button__icon">←</span>
          <span class="button__text">Newer posts</span>
        </a>
      </span>
    
    
      <span class="button next">
        <a href="/page/5/">
          <span class="button__text">Older posts</span>
          <span class="button__icon">→</span>
        </a>
      </span>
    
  </div>
</div>

  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright©2019-2020 Strawbreey. All Rights Reserved</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>

<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


      
    </div>

    
  </body>
</html>
