<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Yaml Tutorial ::
        Strawbreey Notes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="YAML 是 &amp;ldquo;YAML Ain&amp;rsquo;t a Markup Language&amp;rdquo;（YAML 不是一种标记语言）的递归缩写。在开发的这种语言时，YAML 的意思其实是：&amp;ldquo;Y"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/yaml-tutorial/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/styles/atom-one-dark.min.css">

<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/favicon.png" />

<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>




<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Yaml Tutorial"/>
<meta name="twitter:description" content="YAML 是 &ldquo;YAML Ain&rsquo;t a Markup Language&rdquo;（YAML 不是一种标记语言）的递归缩写。在开发的这种语言时，YAML 的意思其实是：&ldquo;Y"/>



<meta property="og:title" content="Yaml Tutorial" />
<meta property="og:description" content="YAML 是 &ldquo;YAML Ain&rsquo;t a Markup Language&rdquo;（YAML 不是一种标记语言）的递归缩写。在开发的这种语言时，YAML 的意思其实是：&ldquo;Y" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/yaml-tutorial/" />
<meta property="article:published_time" content="2020-12-17T17:57:22+08:00" />
<meta property="article:modified_time" content="2020-12-17T17:57:22+08:00" /><meta property="og:site_name" content="Strawbreey Notes" />






  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    
    <span class="logo__text">
      Strawbreey Notes
    </span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Yaml Tutorial</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2020-12-17
        </span>

        
          
        
      

      


      
        <span class="post-read-time"
          >— 3 min read</span
        >
      
    </div>

    

    

    <div class="post-content">
      <p>YAML 是 &ldquo;YAML Ain&rsquo;t a Markup Language&rdquo;（YAML 不是一种标记语言）的递归缩写。在开发的这种语言时，YAML 的意思其实是：&ldquo;Yet Another Markup Language&rdquo;（仍是一种标记语言）。</p>
<p>YAML 的语法和其他高级语言类似，并且可以简单表达<code>清单</code>、<code>散列表</code>，<code>标量</code>等数据形态。它使用空白符号缩进和大量依赖外观的特色，特别适合用来表达或编辑数据结构、各种配置文件、倾印调试内容、文件大纲。</p>
<p>YAML 的配置文件后缀为 <code>.yml</code>，如：runoob.yml 。</p>
<h3 id="基本语法">基本语法</h3>
<ul>
<li>
<p>大小写敏感</p>
</li>
<li>
<p>使用缩进表示层级关系</p>
</li>
<li>
<p>缩进不允许使用tab，只允许空格</p>
</li>
<li>
<p>缩进的空格数不重要，只要相同层级的元素左对齐即可</p>
</li>
<li>
<p>&lsquo;#&lsquo;表示注释</p>
</li>
</ul>
<h3 id="数据类型">数据类型</h3>
<p>YAML 支持以下几种数据类型：</p>
<ul>
<li>对象：键值对的集合，又称为映射（mapping）/ 哈希（hashes） / 字典（dictionary）</li>
<li>数组：一组按次序排列的值，又称为序列（sequence） / 列表（list）</li>
<li>纯量（scalars）：单个的、不可再分的值</li>
</ul>
<h3 id="yaml-对象">YAML 对象</h3>
<p>对象键值对使用冒号结构表示 key: value，冒号后面要加一个空格。</p>
<p>也可以使用 key:{key1: value1, key2: value2, &hellip;}。</p>
<p>还可以使用缩进表示层级关系；</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">key</span>: 
    <span style="color:#66d9ef">child-key</span>: value
    <span style="color:#66d9ef">child-key2</span>: value2
</code></pre></div><p>较为复杂的对象格式，可以使用问号加一个空格代表一个复杂的 key，配合一个冒号加一个空格代表一个 value：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">?  
    - complexkey1
    - complexkey2
:
    - complexvalue1
    - complexvalue2
</code></pre></div><p>意思即对象的属性是一个数组 [complexkey1,complexkey2]，对应的值也是一个数组 [complexvalue1,complexvalue2]</p>
<h3 id="yaml-数组">YAML 数组</h3>
<p>以 - 开头的行表示构成一个数组：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- A
- B
- C
</code></pre></div><p>YAML 支持多维数组，可以使用行内表示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">key</span>: [value1, value2, ...]
</code></pre></div><p>数据结构的子成员是一个数组，则可以在该项下面缩进一个空格。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#e6db74">-
</span><span style="color:#e6db74"> - A</span>
 - B
 - C
</code></pre></div><p>一个相对复杂的例子：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">companies:
    <span style="color:#e6db74">-
</span><span style="color:#e6db74">        id: 1</span>
        <span style="color:#66d9ef">name</span>: company1
        <span style="color:#66d9ef">price</span>: 200W
    <span style="color:#e6db74">-
</span><span style="color:#e6db74">        id: 2</span>
        <span style="color:#66d9ef">name</span>: company2
        <span style="color:#66d9ef">price</span>: 500W
</code></pre></div><p>意思是 companies 属性是一个数组，每一个数组元素又是由 id、name、price 三个属性构成。</p>
<p>数组也可以使用流式(flow)的方式表示：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">companies</span>: [{<span style="color:#66d9ef">id: 1,name: company1,price</span>: 200W},{<span style="color:#66d9ef">id: 2,name: company2,price</span>: 500W}]
</code></pre></div><h3 id="复合结构">复合结构</h3>
<p>数组和对象可以构成复合结构，例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">languages:
  - Ruby
  - Perl
  - Python 
websites:
  <span style="color:#66d9ef">YAML</span>: yaml.org 
  <span style="color:#66d9ef">Ruby</span>: ruby-lang.org 
  <span style="color:#66d9ef">Python</span>: python.org 
  <span style="color:#66d9ef">Perl</span>: use.perl.org
</code></pre></div><p>转换为 json 为：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{ 
  <span style="color:#960050;background-color:#1e0010">languages:</span> <span style="color:#960050;background-color:#1e0010">[</span> <span style="color:#960050;background-color:#1e0010">&#39;Ruby&#39;,</span> <span style="color:#960050;background-color:#1e0010">&#39;Perl&#39;,</span> <span style="color:#960050;background-color:#1e0010">&#39;Python&#39;],</span>
  <span style="color:#960050;background-color:#1e0010">websites:</span> <span style="color:#960050;background-color:#1e0010">{</span>
    <span style="color:#960050;background-color:#1e0010">YAML:</span> <span style="color:#960050;background-color:#1e0010">&#39;yaml.org&#39;,</span>
    <span style="color:#960050;background-color:#1e0010">Ruby:</span> <span style="color:#960050;background-color:#1e0010">&#39;ruby-lang.org&#39;,</span>
    <span style="color:#960050;background-color:#1e0010">Python:</span> <span style="color:#960050;background-color:#1e0010">&#39;python.org&#39;,</span>
    <span style="color:#960050;background-color:#1e0010">Perl:</span> <span style="color:#960050;background-color:#1e0010">&#39;use.perl.org&#39;</span> 
  } 
<span style="color:#960050;background-color:#1e0010">}</span>
</code></pre></div><h3 id="纯量">纯量</h3>
<p>纯量是最基本的，不可再分的值，包括：</p>
<ul>
<li>字符串</li>
<li>布尔值</li>
<li>整数</li>
<li>浮点数</li>
<li>Null</li>
<li>时间</li>
<li>日期</li>
</ul>
<p>使用一个例子来快速了解纯量的基本使用：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">boolean</span>: 
    - TRUE  <span style="color:#75715e">#true,True都可以</span>
    - FALSE  <span style="color:#75715e">#false，False都可以</span>
float:
    - <span style="color:#ae81ff">3.14</span>
    - <span style="color:#ae81ff">6.8523015e+5</span>  <span style="color:#75715e">#可以使用科学计数法</span>
int:
    - <span style="color:#ae81ff">123</span>
    - 0b1010_0111_0100_1010_1110    <span style="color:#75715e">#二进制表示</span>
<span style="color:#66d9ef">null</span>:
    <span style="color:#66d9ef">nodeName</span>: <span style="color:#e6db74">&#39;node&#39;</span>
    <span style="color:#66d9ef">parent</span>: ~  <span style="color:#75715e">#使用~表示null</span>
string:
    - 哈哈
    - <span style="color:#e6db74">&#39;Hello world&#39;</span>  <span style="color:#75715e">#可以使用双引号或者单引号包裹特殊字符</span>
    - newline
      newline2    <span style="color:#75715e">#字符串可以拆成多行，每一行会被转化成一个空格</span>
date:
    - <span style="color:#e6db74">2018-02-17</span>    <span style="color:#75715e">#日期必须使用ISO 8601格式，即yyyy-MM-dd</span>
<span style="color:#66d9ef">datetime</span>: 
    -  <span style="color:#e6db74">2018-02-17T15:02:31</span><span style="color:#ae81ff">+08</span>:<span style="color:#ae81ff">00</span>    <span style="color:#75715e">#时间使用ISO 8601格式，时间和日期之间使用T连接，最后使用+代表时区</span>
</code></pre></div><h3 id="引用">引用</h3>
<p><code>&amp; </code>锚点和 <code>*</code> 别名，可以用来引用:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#66d9ef">defaults</span>: <span style="color:#75715e">&amp;defaults</span>
  <span style="color:#66d9ef">adapter</span>:  postgres
  <span style="color:#66d9ef">host</span>:     localhost

development:
  <span style="color:#66d9ef">database</span>: myapp_development
  <span style="color:#66d9ef">&lt;&lt;</span>: <span style="color:#75715e">*defaults</span>

test:
  <span style="color:#66d9ef">database</span>: myapp_test
  <span style="color:#66d9ef">&lt;&lt;</span>: <span style="color:#75715e">*defaults</span>
</code></pre></div><p>相当于:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">defaults:
  <span style="color:#66d9ef">adapter</span>:  postgres
  <span style="color:#66d9ef">host</span>:     localhost

development:
  <span style="color:#66d9ef">database</span>: myapp_development
  <span style="color:#66d9ef">adapter</span>:  postgres
  <span style="color:#66d9ef">host</span>:     localhost

test:
  <span style="color:#66d9ef">database</span>: myapp_test
  <span style="color:#66d9ef">adapter</span>:  postgres
  <span style="color:#66d9ef">host</span>:     localhost
</code></pre></div><p>&amp; 用来建立锚点（defaults），&laquo; 表示合并到当前数据，* 用来引用锚点。</p>
<p>下面是另一个例子:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#75715e">&amp;showell</span> Steve 
- Clark 
- Brian 
- Oren 
- <span style="color:#75715e">*showell</span> 
</code></pre></div><p>转为 JavaScript 代码如下:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">[ <span style="color:#e6db74">&#39;Steve&#39;</span>, <span style="color:#e6db74">&#39;Clark&#39;</span>, <span style="color:#e6db74">&#39;Brian&#39;</span>, <span style="color:#e6db74">&#39;Oren&#39;</span>, <span style="color:#e6db74">&#39;Steve&#39;</span> ]
</code></pre></div><h3 id="参考地址">参考地址：</h3>
<ul>
<li><a href="https://www.ruanyifeng.com/blog/2016/07/yaml.html">https://www.ruanyifeng.com/blog/2016/07/yaml.html</a></li>
<li><a href="https://www.jianshu.com/p/97222440cd08">https://www.jianshu.com/p/97222440cd08</a></li>
<li><a href="https://daihainidewo.github.io/blog/yaml%E6%95%99%E7%A8%8B/">https://daihainidewo.github.io/blog/yaml%E6%95%99%E7%A8%8B/</a></li>
</ul>

    </div>
    
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/posts/secure-shell/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Secure Shell</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/posts/docker-dockerfile/">
                  <span class="button__text">Docker Dockerfile</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

<div id="gitalk-container"></div>
<script>
  const gitalk = new Gitalk({
    clientID: '4655ac5540fffb80a545',
    clientSecret: '714d4e40a23897dc8e329b9d1ec37a1ffe8fd5d3',
    repo: 'https://github.com/strawbreey/notes',      
    owner: 'strawbreey',
    admin: ['strawbreey'],
    id: location.pathname,      
    distractionFreeMode: false  
  })

  gitalk.render('gitalk-container')
</script>
      
    
  </div>

  <aside class="aside table-of-contents">
    
    <section class="toc">
        <h3>title</h3>
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#基本语法">基本语法</a></li>
        <li><a href="#数据类型">数据类型</a></li>
        <li><a href="#yaml-对象">YAML 对象</a></li>
        <li><a href="#yaml-数组">YAML 数组</a></li>
        <li><a href="#复合结构">复合结构</a></li>
        <li><a href="#纯量">纯量</a></li>
        <li><a href="#引用">引用</a></li>
        <li><a href="#参考地址">参考地址：</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </section>

    


<section class="related">
  <h3>See Also</h3>
  <ul>
    
    <li><a href="/posts/docker-dockerfile/">Docker Dockerfile</a></li>
    
    <li><a href="/posts/docker-compose/">Docker Compose</a></li>
    
    <li><a href="/posts/docker-mirror/">Docker Mirror</a></li>
    
    <li><a href="/posts/source-word-7000/">Source Word 7000</a></li>
    
    <li><a href="/posts/js-fetch/">Js Fetch</a></li>
    
  </ul>
  
</section>
  </aside>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright©2019-2020 Strawbreey. All Rights Reserved</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>





<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/highlight.min.js"></script>




      
    </div>

    
  </body>
</html>
