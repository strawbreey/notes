<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Linux Command ::
        Strawbreey Notes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Linux Command 查看磁盘空间大小 df -hl # G 第一列Filesystem，磁盘分区 第二列Size，磁盘分区的大小 第三列Used，已使用的空间 第四列Avail，"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/linux-command/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/styles/atom-one-dark.min.css">

<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/favicon.png" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Linux Command"/>
<meta name="twitter:description" content="Linux Command 查看磁盘空间大小 df -hl # G 第一列Filesystem，磁盘分区 第二列Size，磁盘分区的大小 第三列Used，已使用的空间 第四列Avail，"/>



<meta property="og:title" content="Linux Command" />
<meta property="og:description" content="Linux Command 查看磁盘空间大小 df -hl # G 第一列Filesystem，磁盘分区 第二列Size，磁盘分区的大小 第三列Used，已使用的空间 第四列Avail，" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/linux-command/" />
<meta property="article:published_time" content="2020-10-13T10:59:36+08:00" />
<meta property="article:modified_time" content="2020-10-13T10:59:36+08:00" /><meta property="og:site_name" content="Strawbreey Notes" />






  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    
    <span class="logo__text">
      Strawbreey Notes
    </span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Linux Command</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2020-10-13
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <h2 id="linux-command">Linux Command</h2>
<ol>
<li>查看磁盘空间大小</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">df -hl <span style="color:#75715e"># G</span>
</code></pre></div><p>第一列Filesystem，磁盘分区</p>
<p>第二列Size，磁盘分区的大小</p>
<p>第三列Used，已使用的空间</p>
<p>第四列Avail，可用的空间</p>
<p>第五列Use%，已使用的百分比</p>
<p>第六列Mounted on，挂载点</p>
<p>参数说明</p>
<p>-a或&ndash;all：包含全部的文件系统；</p>
<p>&ndash;block-size=&lt;区块大小&gt;：以指定的区块大小来显示区块数目；</p>
<p>-h或&ndash;human-readable：以可读性较高的方式来显示信息;</p>
<p>-H或&ndash;si：与-h参数相同，但在计算时是以1000 Bytes为换算单位而非1024 Bytes；</p>
<p>-i或&ndash;inodes：显示inode的信息；</p>
<p>-k或&ndash;kilobytes：指定区块大小为1024字节；</p>
<p>-l或&ndash;local：仅显示本地端的文件系统;</p>
<p>-m或&ndash;megabytes：指定区块大小为1048576字节；</p>
<p>&ndash;no-sync：在取得磁盘使用信息前，不要执行sync指令，此为预设值；</p>
<p>-P或&ndash;portability：使用POSIX的输出格式；</p>
<p>&ndash;sync：在取得磁盘使用信息前，先执行sync指令；</p>
<p>-t&lt;文件系统类型&gt;或&ndash;type=&lt;文件系统类型&gt;：仅显示指定文件系统类型的磁盘信息；</p>
<p>-T或&ndash;print-type：显示文件系统的类型；</p>
<p>-x&lt;文件系统类型&gt;或&ndash;exclude-type=&lt;文件系统类型&gt;：不要显示指定文件系统类型的磁盘信息；</p>
<p>&ndash;help：显示帮助；</p>
<p>&ndash;version：显示版本信息。</p>
<ol start="2">
<li>查看文件和目录大小</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 查看目录的总大小</span>
du -sh /data

<span style="color:#75715e"># 或者进到/data目录后直接执行：</span>
du -sh

<span style="color:#75715e"># 如果要看/data目录下各个子目录的大小，不包括子目录</span>
du -h

<span style="color:#75715e"># 如果要看/data目录下各个子目录的大小，包括子目录的子目录</span>
du -h *

<span style="color:#75715e"># 如果要看/data目录下各个子目录和文件的大小，需要使用-a参数：</span>
du -ah

</code></pre></div><p>参数说明</p>
<p>-a或-all 显示目录中个别文件的大小。</p>
<p>-b或-bytes 显示目录或文件大小时，以byte为单位。</p>
<p>-c或&ndash;total 除了显示个别目录或文件的大小外，同时也显示所有目录或文件的总和。</p>
<p>-k或&ndash;kilobytes 以KB(1024bytes)为单位输出。</p>
<p>-m或&ndash;megabytes 以MB为单位输出。</p>
<p>-s或&ndash;summarize 仅显示总计，只列出最后加总的值。</p>
<p>-h或&ndash;human-readable 以K，M，G为单位，提高信息的可读性。</p>
<p>-x或&ndash;one-file-xystem 以一开始处理时的文件系统为准，若遇上其它不同的文件系统目录则略过。</p>
<p>-L&lt;符号链接&gt;或&ndash;dereference&lt;符号链接&gt; 显示选项中所指定符号链接的源文件大小。</p>
<p>-S或&ndash;separate-dirs 显示个别目录的大小时，并不含其子目录的大小。</p>
<p>-X&lt;文件&gt;或&ndash;exclude-from=&lt;文件&gt; 在&lt;文件&gt;指定目录或文件。</p>
<p>&ndash;exclude=&lt;目录或文件&gt; 略过指定的目录或文件。</p>
<p>-D或&ndash;dereference-args 显示指定符号链接的源文件大小。</p>
<p>-H或&ndash;si 与-h参数相同，但是K，M，G是以1000为换算单位。</p>
<p>-l或&ndash;count-links 重复计算硬件链接的文件。</p>
<ol start="3">
<li>排序命令</li>
</ol>
<p>sort命令可以用于将文件内容排序并输出，也可以用于将某些查询命令的执行结果排序后输出</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 将文件夹中的文件按大小排序，可以用以下命令</span>
du -a|sort -rn
</code></pre></div><p>管道前面的du –a就是列出目录下所有的文件和目录的大小，后面的sort命令就是排序。</p>
<p>其中-r参数代表反向排序，因为sort默认是从小到大排序的，加-r是从大到小排序</p>
<p>-n代表按照数字排序，只认数字不认单位，本例中的数字就是文件大小，单位是默认的KB，所以这个命令不能用du -ah，这会使排序结果出现2M小于100K的情况。</p>
<p>参数说明：</p>
<p>-b：忽略每行前面开始出的空格字符；</p>
<p>-c：检查文件是否已经按照顺序排序；</p>
<p>-d：排序时，处理英文字母、数字及空格字符外，忽略其他的字符；</p>
<p>-f：排序时，将小写字母视为大写字母；</p>
<p>-i：排序时，除了040至176之间的ASCII字符外，忽略其他的字符；</p>
<p>-m：将几个排序号的文件进行合并；</p>
<p>-M：将前面3个字母依照月份的缩写进行排序；</p>
<p>-n：依照数值的大小排序；</p>
<p>-o&lt;输出文件&gt;：将排序后的结果存入制定的文件；</p>
<p>-r：以相反的顺序来排序；</p>
<p>-t&lt;分隔字符&gt;：指定排序时所用的栏位分隔字符；</p>
<p>+&lt;起始栏位&gt;-&lt;结束栏位&gt;：以指定的栏位来排序，范围由起始栏位到结束栏位的前一栏位。</p>
<ol start="4">
<li>只显示前几行的命令</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 要将文件夹中的文件按大小排序，而且只看最大的几个</span>
du -a|sort -rn|head -5

<span style="color:#75715e"># head后面的-5表示显示前5行，不加数字则默认显示前10行</span>
</code></pre></div><p>-n&lt;数字&gt;：指定显示头部内容的行数；
-c&lt;字符数&gt;：指定显示头部内容的字符数；
-v：总是显示文件名的头信息；
-q：不显示文件名的头信息。</p>
<ol start="5">
<li>查看列表</li>
</ol>
<p>list 的缩写，通过 ls 命令不仅可以查看 linux 文件夹包含的文件，而且可以查看文件权限(包括目录、文件夹、文件权限)查看目录信息等等。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ls -l

ls -a <span style="color:#75715e"># 列出目录所有文件，包含以.开始的隐藏文件</span>
ls -A <span style="color:#75715e"># 列出除.及..的其它文件</span>
ls -r <span style="color:#75715e"># 反序排列</span>
ls -t <span style="color:#75715e"># 以文件修改时间排序</span>
ls -S <span style="color:#75715e"># 以文件大小排序</span>
ls -h <span style="color:#75715e"># 以易读大小显示</span>
ls -l <span style="color:#75715e"># 除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来</span>

<span style="color:#75715e"># 按易读方式按时间反序排序，并显示文件详细信息</span>
ls -lhrt

<span style="color:#75715e"># 按大小反序显示文件详细信息</span>
ls -lrS

<span style="color:#75715e"># 列出当前目录中所有以&#34;t&#34;开头的目录的详细内容</span>
ls -l t*

<span style="color:#75715e"># 列出文件绝对路径（不包含隐藏文件）</span>
ls | sed <span style="color:#e6db74">&#34;s:^:`pwd`/:&#34;</span>

<span style="color:#75715e"># 列出文件绝对路径（包含隐藏文件）</span>
find $pwd -maxdepth <span style="color:#ae81ff">1</span> | xargs ls -ld

</code></pre></div><ol start="6">
<li>cd 命令</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 进入根目录</span>
cd /

<span style="color:#75715e"># 进入home 目录</span>
cd ~

<span style="color:#75715e"># 进入上一次工作路径</span>
cd -

<span style="color:#75715e"># 把上一个命令的参数作为cd参数使用</span>
cd !$
</code></pre></div><ol start="6">
<li>pwd 命令</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
<span style="color:#75715e"># 查看当前路径</span>
pwd

<span style="color:#75715e"># 查看软连接的实际路径</span>
pwd -P
</code></pre></div><ol start="6">
<li>mkdir</li>
</ol>
<p>-m: 对新建目录设置存取权限，也可以用 chmod 命令设置;
-p: 可以是一个路径名称。此时若路径中的某些目录尚不存在,加上此选项后，系统将自动建立好那些尚不在的目录，即一次可以建立多个目录。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 当前工作目录下创建名为 t的文件夹</span>
mkdir t

<span style="color:#75715e"># 在 tmp 目录下创建路径为 test/t1/t 的目录，若不存在，则创建：</span>
mkdir -p /tmp/test/t1/t
</code></pre></div><ol start="6">
<li>rm</li>
</ol>
<p>删除一个目录中的一个或多个文件或目录，如果没有使用 -r 选项，则 rm 不会删除目录。
如果使用 rm 来删除文件，通常仍可以将该文件恢复原状。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 删除任何 .log 文件，删除前逐一询问确认：</span>
rm -i *.log

<span style="color:#75715e"># 删除 test 子目录及子目录中所有档案删除，并且不用一一确认：</span>
rm -rf test

<span style="color:#75715e">#删除以 -f 开头的文件</span>
rm -- -f*
</code></pre></div><ol start="6">
<li>rmdir</li>
</ol>
<p>从一个目录中删除一个或多个子目录项，删除某目录时也必须具有对其父目录的写权限。不能删除非空目录</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 当 parent 子目录被删除后使它也成为空目录的话，则顺便一并删除：</span>
rmdir -p parent/child/child11
</code></pre></div><ol start="6">
<li>mv 命令
移动文件或修改文件名，根据第二参数类型（如目录，则移动文件；如为文件则重命令该文件）。
···</li>
</ol>
<p>···</p>
<ol start="6">
<li>查看系统版本</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 方式1</span>
cat /etc/redhat-release
CentOS Linux release 7.6.1810 <span style="color:#f92672">(</span>Core<span style="color:#f92672">)</span> 

<span style="color:#75715e"># 方式2</span>
lsb_release -a
</code></pre></div><ol start="7">
<li>查看CPU和内存</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># cpu:</span>
cat /proc/cpuinfo | grep name

<span style="color:#75715e"># 内存(RAM)：</span>
$ cat /proc/meminfo | grep Mem
</code></pre></div><ol start="8">
<li>查看磁盘和分区</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 磁盘</span>
fdisk -l | grep -E <span style="color:#e6db74">&#39;.+/dev/&#39;</span>

<span style="color:#75715e"># 分区:</span>
df -TH | grep ^/dev
</code></pre></div><ol start="9">
<li>查看网卡和IP地址</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#75715e"># 网卡:</span>
lspci | grep -i eth

<span style="color:#75715e"># IP</span>
ip addr | grep -E <span style="color:#e6db74">&#34;^[1-9]+|inet&#34;</span>
</code></pre></div><ol start="10">
<li>查看主板制造商</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">  dmidecode | grep -V -A2 <span style="color:#e6db74">&#34;System Information&#34;</span>
</code></pre></div><ol start="11">
<li>查看防火墙服务</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 查看防火墙</span>
systemctl list-unit-files | grep firewalld

<span style="color:#75715e"># 开启防火墙</span>
systemctl enable firewalld.service

<span style="color:#75715e"># 禁用防火墙</span>
systemctl disable firewalld.service

<span style="color:#75715e"># 查看防火墙运行状态</span>
firewall-cmd --state

<span style="color:#75715e"># 打开防火墙</span>
systemctl start firewalld.service

<span style="color:#75715e"># 关闭防火墙</span>
systemctl stop firewalld.service
</code></pre></div><ol start="12">
<li>查看用户信息</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 查看用户信息</span>
cat /etc/passwd | grep bash

<span style="color:#75715e">#查看用户组</span>
cat /etc/group | grep root

<span style="color:#75715e"># 查看系统用户密码</span>
cat /etc/shadow | grep root
</code></pre></div><ol start="13">
<li>查看系统运行状态</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 查看当前运行的进程列表</span>
ps aux
<span style="color:#75715e"># 加 f 以树状显示父子进程</span>
ps aufx

<span style="color:#75715e"># 查看实时进程资源占用(CPU和内存)</span>
top

<span style="color:#75715e"># 系统运行状态监控(CPU和IO)</span>
yum install dstat

dstat
</code></pre></div><h3 id="参考链接">参考链接</h3>
<ul>
<li><a href="https://www.runoob.com/w3cnote/linux-common-command-2.html">Linux 常用命令学习</a></li>
</ul>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/posts/js-regexp/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Js Regexp</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/posts/go-source-code/">
                  <span class="button__text">Go Source Code</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright©2019-2020 Strawbreey. All Rights Reserved</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>

<script src="/assets/mermaid.min.js"></script>


<script>hljs.initHighlightingOnLoad();</script>
<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/highlight.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>


      
    </div>

    
  </body>
</html>
