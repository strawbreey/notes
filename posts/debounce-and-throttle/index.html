<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Debounce and Throttle ::
        Strawbreey Notes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="防抖  根据一个选择器函数，舍弃掉在两次输出之间小于指定时间的发出值。
  实现方式：每次触发事件时设置一个延迟调用方法，并且取消之前的延时调用方法 缺点：如果事件在规定的时间间隔内被不断的触发，则调用方法会被不断的延迟  // RxJS v6&#43;import { of, timer } from &amp;#39;rxjs&amp;#39;;import { debounce } from &amp;#39;rxjs/operators&amp;#39;;// 发出四个字符串const example = of(&amp;#39;WAIT&amp;#39;, &amp;#39;ONE&amp;#39;, &amp;#39;SECOND&amp;#39;, &amp;#39;Last will display&amp;#39;);/*只有在最后一次发送后再经过一秒钟，才会发出值，并抛弃在此之前的所有其他值*/const debouncedExample = example.pipe(debounce(() =&amp;gt; timer(1000)));/*在这个示例中，所有的值都将被忽略，除了最后一个输出: &amp;#39;Last will display&amp;#39;*/const subscribe = debouncedExample.subscribe(val =&amp;gt; console.log(val));// lodash 4.17_.debounce(func, [wait=0], [options={}])js 实现方式:
截流 以某个时间间隔为阈值，在 durationSelector 完成前将抑制新值的发出
 实现方式：每次触发事件时，如果当前周期内有等待执行的函数，则取消当前事件  import { interval } from &amp;#39;rxjs&amp;#39;;import { throttle } from &amp;#39;rxjs/operators&amp;#39;;// 每1秒发出值const source = interval(1000);// 节流2秒后才发出最新值const example = source."
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/debounce-and-throttle/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/favicon.png" />





<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Debounce and Throttle"/>
<meta name="twitter:description" content="防抖  根据一个选择器函数，舍弃掉在两次输出之间小于指定时间的发出值。
  实现方式：每次触发事件时设置一个延迟调用方法，并且取消之前的延时调用方法 缺点：如果事件在规定的时间间隔内被不断的触发，则调用方法会被不断的延迟  // RxJS v6&#43;import { of, timer } from &#39;rxjs&#39;;import { debounce } from &#39;rxjs/operators&#39;;// 发出四个字符串const example = of(&#39;WAIT&#39;, &#39;ONE&#39;, &#39;SECOND&#39;, &#39;Last will display&#39;);/*只有在最后一次发送后再经过一秒钟，才会发出值，并抛弃在此之前的所有其他值*/const debouncedExample = example.pipe(debounce(() =&gt; timer(1000)));/*在这个示例中，所有的值都将被忽略，除了最后一个输出: &#39;Last will display&#39;*/const subscribe = debouncedExample.subscribe(val =&gt; console.log(val));// lodash 4.17_.debounce(func, [wait=0], [options={}])js 实现方式:
截流 以某个时间间隔为阈值，在 durationSelector 完成前将抑制新值的发出
 实现方式：每次触发事件时，如果当前周期内有等待执行的函数，则取消当前事件  import { interval } from &#39;rxjs&#39;;import { throttle } from &#39;rxjs/operators&#39;;// 每1秒发出值const source = interval(1000);// 节流2秒后才发出最新值const example = source."/>



<meta property="og:title" content="Debounce and Throttle" />
<meta property="og:description" content="防抖  根据一个选择器函数，舍弃掉在两次输出之间小于指定时间的发出值。
  实现方式：每次触发事件时设置一个延迟调用方法，并且取消之前的延时调用方法 缺点：如果事件在规定的时间间隔内被不断的触发，则调用方法会被不断的延迟  // RxJS v6&#43;import { of, timer } from &#39;rxjs&#39;;import { debounce } from &#39;rxjs/operators&#39;;// 发出四个字符串const example = of(&#39;WAIT&#39;, &#39;ONE&#39;, &#39;SECOND&#39;, &#39;Last will display&#39;);/*只有在最后一次发送后再经过一秒钟，才会发出值，并抛弃在此之前的所有其他值*/const debouncedExample = example.pipe(debounce(() =&gt; timer(1000)));/*在这个示例中，所有的值都将被忽略，除了最后一个输出: &#39;Last will display&#39;*/const subscribe = debouncedExample.subscribe(val =&gt; console.log(val));// lodash 4.17_.debounce(func, [wait=0], [options={}])js 实现方式:
截流 以某个时间间隔为阈值，在 durationSelector 完成前将抑制新值的发出
 实现方式：每次触发事件时，如果当前周期内有等待执行的函数，则取消当前事件  import { interval } from &#39;rxjs&#39;;import { throttle } from &#39;rxjs/operators&#39;;// 每1秒发出值const source = interval(1000);// 节流2秒后才发出最新值const example = source." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/debounce-and-throttle/" />
<meta property="article:published_time" content="2020-09-07T14:51:32+08:00" />
<meta property="article:modified_time" content="2020-09-07T14:51:32+08:00" /><meta property="og:site_name" content="Strawbreey Notes" />






  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    
    <span class="logo__text">
      Strawbreey Notes
    </span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Debounce and Throttle</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2020-09-07
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <h3 id="防抖">防抖</h3>
<blockquote>
<p>根据一个选择器函数，舍弃掉在两次输出之间小于指定时间的发出值。</p>
</blockquote>
<ul>
<li>实现方式：每次触发事件时设置一个延迟调用方法，并且取消之前的延时调用方法</li>
<li>缺点：如果事件在规定的时间间隔内被不断的触发，则调用方法会被不断的延迟</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#75715e">// RxJS v6+
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#66d9ef">of</span>, <span style="color:#a6e22e">timer</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;rxjs&#39;</span>;
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">debounce</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;rxjs/operators&#39;</span>;

<span style="color:#75715e">// 发出四个字符串
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">example</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">of</span>(<span style="color:#e6db74">&#39;WAIT&#39;</span>, <span style="color:#e6db74">&#39;ONE&#39;</span>, <span style="color:#e6db74">&#39;SECOND&#39;</span>, <span style="color:#e6db74">&#39;Last will display&#39;</span>);
<span style="color:#75715e">/*
</span><span style="color:#75715e">  只有在最后一次发送后再经过一秒钟，才会发出值，并抛弃在此之前的所有其他值
</span><span style="color:#75715e">*/</span>

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">debouncedExample</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">debounce</span>(() =&gt; <span style="color:#a6e22e">timer</span>(<span style="color:#ae81ff">1000</span>)));
<span style="color:#75715e">/*
</span><span style="color:#75715e">    在这个示例中，所有的值都将被忽略，除了最后一个
</span><span style="color:#75715e">    输出: &#39;Last will display&#39;
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">subscribe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">debouncedExample</span>.<span style="color:#a6e22e">subscribe</span>(<span style="color:#a6e22e">val</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">val</span>));



<span style="color:#75715e">// lodash 4.17
</span><span style="color:#75715e"></span><span style="color:#a6e22e">_</span>.<span style="color:#a6e22e">debounce</span>(<span style="color:#a6e22e">func</span>, [<span style="color:#a6e22e">wait</span><span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>], [<span style="color:#a6e22e">options</span><span style="color:#f92672">=</span>{}])

</code></pre></div><p>js 实现方式:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
</code></pre></div><h3 id="截流">截流</h3>
<p>以某个时间间隔为阈值，在 durationSelector 完成前将抑制新值的发出</p>
<ul>
<li>实现方式：每次触发事件时，如果当前周期内有等待执行的函数，则取消当前事件</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">interval</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;rxjs&#39;</span>;
<span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">throttle</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;rxjs/operators&#39;</span>;

<span style="color:#75715e">// 每1秒发出值
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">source</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">interval</span>(<span style="color:#ae81ff">1000</span>);

<span style="color:#75715e">// 节流2秒后才发出最新值
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">example</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">source</span>.<span style="color:#a6e22e">pipe</span>(<span style="color:#a6e22e">throttle</span>(<span style="color:#a6e22e">val</span> =&gt; <span style="color:#a6e22e">interval</span>(<span style="color:#ae81ff">2000</span>)));
<span style="color:#75715e">// 输出: 0...3...6...9
</span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">subscribe</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">example</span>.<span style="color:#a6e22e">subscribe</span>(<span style="color:#a6e22e">val</span> =&gt; <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">val</span>));
</code></pre></div><h4 id="实现方式">实现方式:</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">
</code></pre></div><h4 id="参考资料">参考资料</h4>
<p>节流:</p>
<ul>
<li><a href="https://rxjs-cn.github.io/learn-rxjs-operators/operators/filtering/debounce.html">rxjs debounce</a></li>
<li><a href="https://cn.rx.js.org/class/es6/Observable.js~Observable.html#instance-method-debounce">debounce</a></li>
<li><a href="https://github.com/lodash/lodash/blob/4.17.15/lodash.js#L10304">lodash debounce source code</a></li>
</ul>
<p>防抖:</p>
<ul>
<li><a href="https://cn.rx.js.org/class/es6/Observable.js~Observable.html#instance-method-throttle">Official documents throttle</a></li>
<li><a href="https://rxjs-cn.github.io/learn-rxjs-operators/operators/filtering/throttle.html">rxjs throttle operators</a></li>
<li><a href="https://github.com/ReactiveX/rxjs/blob/master/src/internal/operators/throttle.ts">throttle source code</a></li>
</ul>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/posts/git-workflow/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Git Workflow</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/posts/go-interview/">
                  <span class="button__text">Go Interview</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright©2019-2020 Strawbreey. All Rights Reserved</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>



      
    </div>

    
  </body>
</html>
