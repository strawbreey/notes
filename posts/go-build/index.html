<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Go Build ::
        Strawbreey Notes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Go 命令 Go is a tool for managing Go source code. Usage: go &amp;lt;command&amp;gt; [arguments] The commands are: bug start a bug report build compile packages and dependencies clean remove object files and cached files doc show documentation for package or symbol env print Go environment information fix update packages to use new APIs fmt gofmt (reformat) package sources generate generate Go files by processing source get add dependencies"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/go-build/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/styles/atom-one-dark.min.css">

<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/favicon.png" />

<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">

<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>




<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Go Build"/>
<meta name="twitter:description" content="Go 命令 Go is a tool for managing Go source code. Usage: go &lt;command&gt; [arguments] The commands are: bug start a bug report build compile packages and dependencies clean remove object files and cached files doc show documentation for package or symbol env print Go environment information fix update packages to use new APIs fmt gofmt (reformat) package sources generate generate Go files by processing source get add dependencies"/>



<meta property="og:title" content="Go Build" />
<meta property="og:description" content="Go 命令 Go is a tool for managing Go source code. Usage: go &lt;command&gt; [arguments] The commands are: bug start a bug report build compile packages and dependencies clean remove object files and cached files doc show documentation for package or symbol env print Go environment information fix update packages to use new APIs fmt gofmt (reformat) package sources generate generate Go files by processing source get add dependencies" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/go-build/" />
<meta property="article:published_time" content="2021-01-12T16:57:26+08:00" />
<meta property="article:modified_time" content="2021-01-12T16:57:26+08:00" /><meta property="og:site_name" content="Strawbreey Notes" />






  </head>
  <body class="">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    
    <span class="logo__text">
      Strawbreey Notes
    </span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Go Build</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2021-01-12
        </span>

        
          
        
      

      


      
        <span class="post-read-time"
          >— 3 min read</span
        >
      
    </div>

    

    

    <div class="post-content">
      <p>Go 命令</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Go is a tool <span style="color:#66d9ef">for</span> managing Go source code.

Usage:

        go &lt;command&gt; <span style="color:#f92672">[</span>arguments<span style="color:#f92672">]</span>

The commands are:

        bug         start a bug report
        build       compile packages and dependencies       
        clean       remove object files and cached files    
        doc         show documentation <span style="color:#66d9ef">for</span> package or symbol
        env         print Go environment information        
        fix         update packages to use new APIs
        fmt         gofmt <span style="color:#f92672">(</span>reformat<span style="color:#f92672">)</span> package sources        
        generate    generate Go files by processing source
        get         add dependencies to current module and install them
        install     compile and install packages and dependencies
        list        list packages or modules
        mod         module maintenance
        run         compile and run Go program
        test        test packages
        tool        run specified go tool
        version     print Go version
        vet         report likely mistakes in packages

Use <span style="color:#e6db74">&#34;go help &lt;command&gt;&#34;</span> <span style="color:#66d9ef">for</span> more information about a command.

Additional help topics:

        buildmode   build modes
        c           calling between Go and C
        cache       build and test caching
        environment environment variables
        filetype    file types
        go.mod      the go.mod file
        gopath      GOPATH environment variable
        gopath-get  legacy GOPATH go get
        goproxy     module proxy protocol
        importpath  import path syntax
        modules     modules, module versions, and more
        module-get  module-aware go get
        module-auth module authentication using go.sum
        module-private module configuration <span style="color:#66d9ef">for</span> non-public modules
        packages    package lists and patterns
        testflag    testing flags
        testfunc    testing functions

Use <span style="color:#e6db74">&#34;go help &lt;topic&gt;&#34;</span> <span style="color:#66d9ef">for</span> more information about that topic.
</code></pre></div><h3 id="go-bulid-命令">Go Bulid 命令</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">go build 

go build <span style="color:#f92672">[</span>-o output<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-i<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>build flags<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>packages<span style="color:#f92672">]</span> 

<span style="color:#75715e">#-o 参数可以指定输出目录与打包后的文件名</span>
</code></pre></div><p>go help build
usage: go build [-o output] [-i] [build flags] [packages]</p>
<p>Build compiles the packages named by the import paths,
along with their dependencies, but it does not install the results.</p>
<p>If the arguments to build are a list of .go files from a single directory,
build treats them as a list of source files specifying a single package.</p>
<p>When compiling packages, build ignores files that end in &lsquo;_test.go&rsquo;.</p>
<p>When compiling a single main package, build writes
the resulting executable to an output file named after
the first source file (&lsquo;go build ed.go rx.go&rsquo; writes &lsquo;ed&rsquo; or &lsquo;ed.exe&rsquo;)
or the source code directory (&lsquo;go build unix/sam&rsquo; writes &lsquo;sam&rsquo; or &lsquo;sam.exe&rsquo;).
The &lsquo;.exe&rsquo; suffix is added when writing a Windows executable.</p>
<p>When compiling multiple packages or a single non-main package,
build compiles the packages but discards the resulting object,
serving only as a check that the packages can be built.</p>
<p>The -o flag forces build to write the resulting executable or object
to the named output file or directory, instead of the default behavior described
in the last two paragraphs. If the named output is a directory that exists,
then any resulting executables will be written to that directory.</p>
<p>The -i flag installs the packages that are dependencies of the target.</p>
<p>The build flags are shared by the build, clean, get, install, list, run,
and test commands:</p>
<pre><code>    -a
            force rebuilding of packages that are already up-to-date.
    -n
            print the commands but do not run them.
    -p n
            the number of programs, such as build commands or
            test binaries, that can be run in parallel.
            The default is the number of CPUs available.
    -race
            enable data race detection.
            Supported only on linux/amd64, freebsd/amd64, darwin/amd64 and windows/amd64.
    -msan
            enable interoperation with memory sanitizer.
            Supported only on linux/amd64, linux/arm64
            and only with Clang/LLVM as the host C compiler.
    -v
            print the names of packages as they are compiled.
    -work
            print the name of the temporary work directory and
            do not delete it when exiting.
    -x
            print the commands.

    -asmflags '[pattern=]arg list'
            arguments to pass on each go tool asm invocation.
    -buildmode mode
            build mode to use. See 'go help buildmode' for more.
    -compiler name
            name of compiler to use, as in runtime.Compiler (gccgo or gc).
    -gccgoflags '[pattern=]arg list'
            arguments to pass on each gccgo compiler/linker invocation.
    -gcflags '[pattern=]arg list'
            arguments to pass on each go tool compile invocation.
    -installsuffix suffix
            a suffix to use in the name of the package installation directory,
            in order to keep output separate from default builds.
            If using the -race flag, the install suffix is automatically set to race
            or, if set explicitly, has _race appended to it. Likewise for the -msan
            flag. Using a -buildmode option that requires non-default compile flags
            has a similar effect.
    -ldflags '[pattern=]arg list'
            arguments to pass on each go tool link invocation.
    -linkshared
            link against shared libraries previously created with
            -buildmode=shared.
    -mod mode
            module download mode to use: readonly or vendor.
            See 'go help modules' for more.
    -pkgdir dir
            install and load all packages from dir instead of the usual locations.
            For example, when building with a non-standard configuration,
            use -pkgdir to keep generated packages in a separate location.
    -tags tag,list
            a comma-separated list of build tags to consider satisfied during the
            build. For more information about build tags, see the description of
            build constraints in the documentation for the go/build package.
            (Earlier versions of Go used a space-separated list, and that form
            is deprecated but still recognized.)
    -trimpath
            remove all file system paths from the resulting executable.
            Instead of absolute file system paths, the recorded file names
            will begin with either &quot;go&quot; (for the standard library),
            or a module path@version (when using modules),
            or a plain import path (when using GOPATH).
    -toolexec 'cmd args'
            a program to use to invoke toolchain programs like vet and asm.
            For example, instead of running asm, the go command will run
            'cmd args /path/to/asm &lt;arguments for asm&gt;'.
</code></pre>
<p>The -asmflags, -gccgoflags, -gcflags, and -ldflags flags accept a
space-separated list of arguments to pass to an underlying tool
during the build. To embed spaces in an element in the list, surround
it with either single or double quotes. The argument list may be
preceded by a package pattern and an equal sign, which restricts
the use of that argument list to the building of packages matching
that pattern (see &lsquo;go help packages&rsquo; for a description of package
patterns). Without a pattern, the argument list applies only to the
packages named on the command line. The flags may be repeated
with different patterns in order to specify different arguments for
different sets of packages. If a package matches patterns given in
multiple flags, the latest match on the command line wins.
For example, &lsquo;go build -gcflags=-S fmt&rsquo; prints the disassembly
only for package fmt, while &lsquo;go build -gcflags=all=-S fmt&rsquo;
prints the disassembly for fmt and all its dependencies.</p>
<p>For more about specifying packages, see &lsquo;go help packages&rsquo;.
For more about where packages and binaries are installed,
run &lsquo;go help gopath&rsquo;.
For more about calling between Go and C/C++, run &lsquo;go help c&rsquo;.</p>
<p>Note: Build adheres to certain conventions such as those described
by &lsquo;go help gopath&rsquo;. Not all projects can follow these conventions,
however. Installations that have their own conventions or that use
a separate software build system may choose to use lower-level
invocations such as &lsquo;go tool compile&rsquo; and &lsquo;go tool link&rsquo; to avoid
some of the overheads and design decisions of the build tool.</p>
<ol>
<li>打包成可在windows运行的exe文件</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">go build main.go
</code></pre></div><ol start="2">
<li>打包成可在linux运行的文件</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">set GOARCH<span style="color:#f92672">=</span>amd64
set GOOS<span style="color:#f92672">=</span>linux
</code></pre></div>
    </div>
    
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/posts/php-web-server/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Php Web Server</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/posts/document-style-guide/">
                  <span class="button__text">Document Style Guide</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

<div id="gitalk-container"></div>
<script>
  const gitalk = new Gitalk({
    clientID: '4655ac5540fffb80a545',
    clientSecret: '714d4e40a23897dc8e329b9d1ec37a1ffe8fd5d3',
    repo: 'https://github.com/strawbreey/notes',      
    owner: 'strawbreey',
    admin: ['strawbreey'],
    id: location.pathname,      
    distractionFreeMode: false  
  })

  gitalk.render('gitalk-container')
</script>
      
    
  </div>

  <aside class="aside table-of-contents">
    
    <section class="toc">
        <h3>title</h3>
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#go-bulid-命令">Go Bulid 命令</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </section>

    


<section class="related">
  <h3>See Also</h3>
  <ul>
    
    <li><a href="/posts/document-style-guide/">Document Style Guide</a></li>
    
    <li><a href="/posts/php-composer/">Php Composer</a></li>
    
    <li><a href="/posts/docker-command-line/">Docker Command Line</a></li>
    
    <li><a href="/posts/docker-doc/">Docker Doc</a></li>
    
    <li><a href="/posts/apache-forbidden/">Apache Forbidden</a></li>
    
  </ul>
  
</section>
  </aside>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright©2019-2020 Strawbreey. All Rights Reserved</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>





<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.3.2/build/highlight.min.js"></script>




      
    </div>

    
  </body>
</html>
