<!DOCTYPE html>
<html><head>
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

   
    <meta name="author" content="strawbreey">
  

   
    
    
    
    
    
    
    <meta name="keywords" content="theme,kagome">
  

  

  <meta name="generator" content="Hugo 0.86.0-DEV" />
  
  
  
  
  
  
  <title>Docker Compose ğŸŒŸ å¦‚æ²æ˜¥é£</title>

  <meta property="og:title" content="Docker Compose" />
<meta property="og:description" content="Compose ç®€ä»‹ Compose æ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚é€šè¿‡ Composeï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ YML æ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºéœ€è¦çš„æ‰€æœ‰æœåŠ¡ã€‚ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://note.strawbreey.com/posts/202012171600/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-12-17T16:00:03+08:00" />
<meta property="article:modified_time" content="2020-12-17T16:00:03+08:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Docker Compose"/>
<meta name="twitter:description" content="Compose ç®€ä»‹ Compose æ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚é€šè¿‡ Composeï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ YML æ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºéœ€è¦çš„æ‰€æœ‰æœåŠ¡ã€‚ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥"/>


  <link href="https://note.strawbreey.com/css/index.css" rel="stylesheet">    

  <script src="https://note.strawbreey.com/js/main.js" ></script>
  
  </head><body><header class="header-container layout-block layout-padding">
  <div class="header-inner content-padding-large soft-size--large soft-style--box">
    <div class="header-logo">
      <a href="https://note.strawbreey.com"><h1>å¦‚æ²æ˜¥é£</h1></a>
    </div>
    <nav class="header-nav">
      <div class="header-nav--btn">
        <div class="btn-item"></div>
        <div class="btn-item"></div>
        <div class="btn-item"></div>
      </div>
      <div class="header-nav--list">
        <div>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/" title="">HOME</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/posts" title="">POSTS</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/message" title="">MESSAGE</a>
          
          <a class="list-item soft-size--small soft-style--hover soft-style--active" href="/link" title="">LINK</a>
          
        </div>
      </div>
    </nav>
  </div>
</header><main id="content">
    

    <div class="single-container layout-block">
      <div class="article-info">
        <div class="article-header layout-padding">
          <div class="article-cover card-container content-padding-large soft-size--large soft-style--box img ">

  <div class="card-cover">
    
      <img src="https://note.strawbreey.com/cover/1.jpg" alt="/cover/1.jpg" />
    
  </div>

  <div class="card-text">
    <h1 class="card-text--title">Docker Compose</h1>
    
      <p class="card-text--row">2020-12-17 16:00</p>
      
      
      

      
      
    
  </div>

</div>
        </div>

        <div class="article-content">
          <div class="markdown-body content-padding-large soft-size--large soft-style--box">
            <h3 id="compose-ç®€ä»‹">Compose ç®€ä»‹</h3>
<p>Compose æ˜¯ç”¨äºå®šä¹‰å’Œè¿è¡Œå¤šå®¹å™¨ Docker åº”ç”¨ç¨‹åºçš„å·¥å…·ã€‚é€šè¿‡ Composeï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ YML æ–‡ä»¶æ¥é…ç½®åº”ç”¨ç¨‹åºéœ€è¦çš„æ‰€æœ‰æœåŠ¡ã€‚ç„¶åï¼Œä½¿ç”¨ä¸€ä¸ªå‘½ä»¤ï¼Œå°±å¯ä»¥ä» YML æ–‡ä»¶é…ç½®ä¸­åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ã€‚</p>
<h3 id="docker-compose-å¸¸ç”¨å‘½ä»¤å’Œé…ç½®">Docker Compose å¸¸ç”¨å‘½ä»¤å’Œé…ç½®</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 1. psï¼šåˆ—å‡ºæ‰€æœ‰è¿è¡Œå®¹å™¨</span>
docker-compose ps

<span style="color:#75715e"># 2. logsï¼šæŸ¥çœ‹æœåŠ¡æ—¥å¿—è¾“å‡º</span>
docker-compose logs

<span style="color:#75715e"># 3. portï¼šæ‰“å°ç»‘å®šçš„å…¬å…±ç«¯å£ï¼Œä¸‹é¢å‘½ä»¤å¯ä»¥è¾“å‡º eureka æœåŠ¡ 8761 ç«¯å£æ‰€ç»‘å®šçš„å…¬å…±ç«¯å£</span>
docker-compose port eureka <span style="color:#ae81ff">8761</span>

<span style="color:#75715e"># 4. buildï¼šæ„å»ºæˆ–è€…é‡æ–°æ„å»ºæœåŠ¡</span>
docker-compose build

<span style="color:#75715e"># 5. startï¼šå¯åŠ¨æŒ‡å®šæœåŠ¡å·²å­˜åœ¨çš„å®¹å™¨</span>
docker-compose start eureka

<span style="color:#75715e"># 6. stopï¼šåœæ­¢å·²è¿è¡Œçš„æœåŠ¡çš„å®¹å™¨</span>
docker-compose stop eureka

<span style="color:#75715e"># 7. rmï¼šåˆ é™¤æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span>
docker-compose rm eureka

<span style="color:#75715e"># 8. upï¼šæ„å»ºã€å¯åŠ¨å®¹å™¨</span>
docker-compose up
 
<span style="color:#75715e"># 9. killï¼šé€šè¿‡å‘é€ SIGKILL ä¿¡å·æ¥åœæ­¢æŒ‡å®šæœåŠ¡çš„å®¹å™¨</span>
docker-compose kill eureka

<span style="color:#75715e"># 10. pullï¼šä¸‹è½½æœåŠ¡é•œåƒ</span>

<span style="color:#75715e"># 11 scaleï¼šè®¾ç½®æŒ‡å®šæœåŠ¡è¿æ°”å®¹å™¨çš„ä¸ªæ•°ï¼Œä»¥ service=num å½¢å¼æŒ‡å®š</span>
docker-compose scale user<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span> movie<span style="color:#f92672">=</span><span style="color:#ae81ff">3</span>

<span style="color:#75715e">#  12. runï¼šåœ¨ä¸€ä¸ªæœåŠ¡ä¸Šæ‰§è¡Œä¸€ä¸ªå‘½ä»¤</span>
docker-compose run web bash

</code></pre></div><h3 id="compose-ä½¿ç”¨çš„ä¸‰ä¸ªæ­¥éª¤">Compose ä½¿ç”¨çš„ä¸‰ä¸ªæ­¥éª¤ï¼š</h3>
<ol>
<li>å‡†å¤‡é¡¹ç›®</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">mkdir composetest
cd composetest
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">time</span>

<span style="color:#66d9ef">import</span> <span style="color:#a6e22e">redis</span>
<span style="color:#a6e22e">from</span> <span style="color:#a6e22e">flask</span> <span style="color:#66d9ef">import</span> <span style="color:#a6e22e">Flask</span>

<span style="color:#a6e22e">app</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Flask</span>(<span style="color:#ae81ff">__</span><span style="color:#a6e22e">name__</span>)
<span style="color:#a6e22e">cache</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">redis</span>.<span style="color:#a6e22e">Redis</span>(<span style="color:#a6e22e">host</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#39;redis&#39;</span>, <span style="color:#a6e22e">port</span><span style="color:#f92672">=</span><span style="color:#ae81ff">6379</span>)


<span style="color:#a6e22e">def</span> <span style="color:#a6e22e">get_hit_count</span>()<span style="color:#f92672">:</span>
    <span style="color:#a6e22e">retries</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>
    <span style="color:#66d9ef">while</span> <span style="color:#a6e22e">True</span><span style="color:#f92672">:</span>
        <span style="color:#66d9ef">try</span><span style="color:#f92672">:</span>
            <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">cache</span>.<span style="color:#a6e22e">incr</span>(<span style="color:#e6db74">&#39;hits&#39;</span>)
        <span style="color:#a6e22e">except</span> <span style="color:#a6e22e">redis</span>.<span style="color:#a6e22e">exceptions</span>.<span style="color:#a6e22e">ConnectionError</span> <span style="color:#a6e22e">as</span> <span style="color:#a6e22e">exc</span><span style="color:#f92672">:</span>
            <span style="color:#66d9ef">if</span> <span style="color:#a6e22e">retries</span> <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span><span style="color:#f92672">:</span>
                <span style="color:#a6e22e">raise</span> <span style="color:#a6e22e">exc</span>
            <span style="color:#a6e22e">retries</span> <span style="color:#f92672">-=</span> <span style="color:#ae81ff">1</span>
            <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">sleep</span>(<span style="color:#ae81ff">0.5</span>)


<span style="color:#960050;background-color:#1e0010">@</span><span style="color:#a6e22e">app</span>.<span style="color:#a6e22e">route</span>(<span style="color:#e6db74">&#39;/&#39;</span>)
<span style="color:#a6e22e">def</span> <span style="color:#a6e22e">hello</span>()<span style="color:#f92672">:</span>
    <span style="color:#a6e22e">count</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">get_hit_count</span>()
    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;Hello World! I have been seen {} times.\n&#39;</span>.<span style="color:#a6e22e">format</span>(<span style="color:#a6e22e">count</span>)
</code></pre></div><ol start="2">
<li>ä½¿ç”¨ Dockerfile å®šä¹‰åº”ç”¨ç¨‹åºçš„ç¯å¢ƒã€‚</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-dockerfile" data-lang="dockerfile"><span style="color:#75715e"># FROM python:3.7-alpine: ä» Python 3.7 æ˜ åƒå¼€å§‹æ„å»ºé•œåƒã€‚</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">FROM</span><span style="color:#e6db74"> python:3.7-alpine</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># å°†å·¥ä½œç›®å½•è®¾ç½®ä¸º /codeã€‚</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">WORKDIR</span><span style="color:#e6db74"> /code</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># RUN apk add --no-cache gcc musl-dev linux-headers: å®‰è£… gccï¼Œä»¥ä¾¿è¯¸å¦‚ MarkupSafe å’Œ SQLAlchemy ä¹‹ç±»çš„ Python åŒ…å¯ä»¥ç¼–è¯‘åŠ </span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ENV</span> FLASK_APP app.py<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">ENV</span> FLASK_RUN_HOST 0.0.0.0<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> apk add --no-cache gcc musl-dev linux-headers<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> requirements.txt requirements.txt<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> pip install -r requirements.txt<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># å°† . é¡¹ç›®ä¸­çš„å½“å‰ç›®å½•å¤åˆ¶åˆ° . é•œåƒä¸­çš„å·¥ä½œç›®å½•ã€‚</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> . .<span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#75715e"># CMD [&#34;flask&#34;, &#34;run&#34;]: å®¹å™¨æä¾›é»˜è®¤çš„æ‰§è¡Œå‘½ä»¤ä¸ºï¼šflask runã€‚</span><span style="color:#960050;background-color:#1e0010">
</span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">CMD</span> [<span style="color:#e6db74">&#34;flask&#34;</span>, <span style="color:#e6db74">&#34;run&#34;</span>]<span style="color:#960050;background-color:#1e0010">
</span></code></pre></div><ol start="2">
<li>ä½¿ç”¨ docker-compose.yml å®šä¹‰æ„æˆåº”ç”¨ç¨‹åºçš„æœåŠ¡ï¼Œè¿™æ ·å®ƒä»¬å¯ä»¥åœ¨éš”ç¦»ç¯å¢ƒä¸­ä¸€èµ·è¿è¡Œã€‚</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yml" data-lang="yml"><span style="color:#f92672">version</span>: <span style="color:#e6db74">&#39;3&#39;</span>
<span style="color:#f92672">services</span>:
  <span style="color:#f92672">web</span>:
    <span style="color:#f92672">build</span>: <span style="color:#ae81ff">.</span>
    <span style="color:#f92672">ports</span>:
     - <span style="color:#e6db74">&#34;5000:5000&#34;</span>
  <span style="color:#f92672">redis</span>:
    <span style="color:#f92672">image</span>: <span style="color:#e6db74">&#34;redis:alpine&#34;</span>
</code></pre></div><p>è¯¥ Compose æ–‡ä»¶å®šä¹‰äº†ä¸¤ä¸ªæœåŠ¡ï¼šweb å’Œ redisã€‚</p>
<ul>
<li>webï¼šè¯¥ web æœåŠ¡ä½¿ç”¨ä» Dockerfile å½“å‰ç›®å½•ä¸­æ„å»ºçš„é•œåƒã€‚ç„¶åï¼Œå®ƒå°†å®¹å™¨å’Œä¸»æœºç»‘å®šåˆ°æš´éœ²çš„ç«¯å£ 5000ã€‚æ­¤ç¤ºä¾‹æœåŠ¡ä½¿ç”¨ Flask Web æœåŠ¡å™¨çš„é»˜è®¤ç«¯å£ 5000 ã€‚</li>
<li>redisï¼šè¯¥ redis æœåŠ¡ä½¿ç”¨ Docker Hub çš„å…¬å…± Redis æ˜ åƒã€‚</li>
</ul>
<ol start="4">
<li>æœ€åï¼Œæ‰§è¡Œ docker-compose up å‘½ä»¤æ¥å¯åŠ¨å¹¶è¿è¡Œæ•´ä¸ªåº”ç”¨ç¨‹åºã€‚</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># åœ¨æµ‹è¯•ç›®å½•ä¸­ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥å¯åŠ¨åº”ç”¨ç¨‹åºï¼š</span>
docker-compose up

<span style="color:#75715e"># å¦‚æœä½ æƒ³åœ¨åå°æ‰§è¡Œè¯¥æœåŠ¡å¯ä»¥åŠ ä¸Š -d å‚æ•°ï¼š</span>
docker-compose up -d
</code></pre></div><h3 id="yml-é…ç½®æŒ‡ä»¤å‚è€ƒ">yml é…ç½®æŒ‡ä»¤å‚è€ƒ</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#75715e"># version æŒ‡å®šæœ¬ yml ä¾ä»çš„ compose å“ªä¸ªç‰ˆæœ¬åˆ¶å®šçš„ã€‚</span>
<span style="color:#f92672">version</span>: <span style="color:#e6db74">&#34;3.7&#34;</span>
<span style="color:#75715e"># å¤šä¸ªå®¹å™¨é›†åˆ</span>
<span style="color:#f92672">services</span>:
  <span style="color:#f92672">webapp</span>:
    <span style="color:#75715e"># build: æŒ‡å®šä¸ºæ„å»ºé•œåƒä¸Šä¸‹æ–‡è·¯å¾„ï¼šä¾‹å¦‚ webapp æœåŠ¡ï¼ŒæŒ‡å®šä¸ºä»ä¸Šä¸‹æ–‡è·¯å¾„ ./dir/Dockerfile æ‰€æ„å»ºçš„é•œåƒï¼š</span>
    <span style="color:#f92672">build</span>:
      <span style="color:#75715e"># context: ä¸Šä¸‹æ–‡è·¯å¾„ã€‚</span>
      <span style="color:#f92672">context</span>: <span style="color:#ae81ff">./dir</span>
      <span style="color:#75715e"># dockerfile: æŒ‡å®šæ„å»ºé•œåƒçš„ Dockerfile æ–‡ä»¶åã€‚</span>
      <span style="color:#f92672">dockerfile</span>: <span style="color:#ae81ff">Dockerfile-alternate</span>
      <span style="color:#75715e"># args: æ·»åŠ æ„å»ºå‚æ•°ï¼Œè¿™æ˜¯åªèƒ½åœ¨æ„å»ºè¿‡ç¨‹ä¸­è®¿é—®çš„ç¯å¢ƒå˜é‡ã€‚</span>
      <span style="color:#f92672">args</span>:
        <span style="color:#f92672">buildno</span>: <span style="color:#ae81ff">1</span>
    <span style="color:#75715e"># è®¾ç½®æ„å»ºé•œåƒçš„æ ‡ç­¾ã€‚</span>

    <span style="color:#75715e"># commandï¼šè¦†ç›–å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤</span>
    <span style="color:#f92672">command</span>: <span style="color:#ae81ff">bundle exec thin -p 3000</span>
    <span style="color:#f92672">labels</span>:
      - <span style="color:#e6db74">&#34;com.example.description=Accounting webapp&#34;</span>
      - <span style="color:#e6db74">&#34;com.example.department=Finance&#34;</span>
      - <span style="color:#e6db74">&#34;com.example.label-with-empty-value&#34;</span>
    <span style="color:#75715e"># å¤šå±‚æ„å»ºï¼Œå¯ä»¥æŒ‡å®šæ„å»ºå“ªä¸€å±‚</span>
    <span style="color:#f92672">target</span>: <span style="color:#ae81ff">prod</span>
    <span style="color:#75715e"># è®¾ç½®ä¾èµ–å…³ç³»ã€‚</span>
      <span style="color:#75715e"># docker-compose up ï¼šä»¥ä¾èµ–æ€§é¡ºåºå¯åŠ¨æœåŠ¡ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œå…ˆå¯åŠ¨ db å’Œ redis ï¼Œæ‰ä¼šå¯åŠ¨ webã€‚</span>
      <span style="color:#75715e"># docker-compose up SERVICE ï¼šè‡ªåŠ¨åŒ…å« SERVICE çš„ä¾èµ–é¡¹ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œdocker-compose up web è¿˜å°†åˆ›å»ºå¹¶å¯åŠ¨ db å’Œ redisã€‚</span>
      <span style="color:#75715e"># docker-compose stop ï¼šæŒ‰ä¾èµ–å…³ç³»é¡ºåºåœæ­¢æœåŠ¡ã€‚åœ¨ä»¥ä¸‹ç¤ºä¾‹ä¸­ï¼Œweb åœ¨ db å’Œ redis ä¹‹å‰åœæ­¢ã€‚</span>
    <span style="color:#f92672">depends_on</span>:
      - <span style="color:#ae81ff">db</span>
      - <span style="color:#ae81ff">redis</span>
  <span style="color:#f92672">redis</span>:
    <span style="color:#75715e"># image: æŒ‡å®šå®¹å™¨è¿è¡Œçš„é•œåƒã€‚ä»¥ä¸‹æ ¼å¼éƒ½å¯ä»¥ï¼š</span>
    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">redis:alpine</span>
    <span style="color:#75715e"># devices: æŒ‡å®šè®¾å¤‡æ˜ å°„åˆ—è¡¨ã€‚</span>
    <span style="color:#f92672">devices</span>:  
      - <span style="color:#e6db74">&#34;/dev/ttyUSB0:/dev/ttyUSB0&#34;</span>
    <span style="color:#75715e"># dns: è‡ªå®šä¹‰ DNS æœåŠ¡å™¨ï¼Œå¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨çš„å¤šä¸ªå€¼ã€‚</span>
    <span style="color:#f92672">dns</span>: <span style="color:#ae81ff">8.8.8.8</span>
    <span style="color:#75715e"># dns_search:è‡ªå®šä¹‰ DNS æœç´¢åŸŸã€‚å¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨ã€‚</span>
    <span style="color:#f92672">dns_search</span>:  <span style="color:#ae81ff">example.com</span>
    <span style="color:#75715e"># entrypoint: è¦†ç›–å®¹å™¨é»˜è®¤çš„ entrypointã€‚</span>
    <span style="color:#f92672">entrypoint</span>: <span style="color:#ae81ff">/code/entrypoint.sh</span>
    <span style="color:#75715e"># env_file: ä»æ–‡ä»¶æ·»åŠ ç¯å¢ƒå˜é‡ã€‚å¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨çš„å¤šä¸ªå€¼ã€‚</span>
    <span style="color:#f92672">env_file</span>:
      - <span style="color:#ae81ff">./common.env</span>
      - <span style="color:#ae81ff">./apps/web.env</span>
      - <span style="color:#ae81ff">/opt/secrets.env</span>
    <span style="color:#75715e"># environment: æ·»åŠ ç¯å¢ƒå˜é‡ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸ã€ä»»ä½•å¸ƒå°”å€¼ï¼Œå¸ƒå°”å€¼éœ€è¦ç”¨å¼•å·å¼•èµ·æ¥ï¼Œä»¥ç¡®ä¿ YML è§£æå™¨ä¸ä¼šå°†å…¶è½¬æ¢ä¸º True æˆ– Falseã€‚</span>
    <span style="color:#f92672">environment</span>: 
    <span style="color:#75715e"># expose: æš´éœ²ç«¯å£ï¼Œä½†ä¸æ˜ å°„åˆ°å®¿ä¸»æœºï¼Œåªè¢«è¿æ¥çš„æœåŠ¡è®¿é—®ã€‚</span>
    <span style="color:#f92672">expose</span>:
      - <span style="color:#e6db74">&#34;3000&#34;</span>
      - <span style="color:#e6db74">&#34;8000&#34;</span> 
    <span style="color:#75715e"># extra_hostsï¼š æ·»åŠ ä¸»æœºåæ˜ å°„ã€‚ç±»ä¼¼ docker client --add-hostã€‚</span>
    <span style="color:#f92672">extra_hosts</span>: 
      - <span style="color:#e6db74">&#34;somehost:162.242.195.82&#34;</span>
      - <span style="color:#e6db74">&#34;otherhost:50.31.209.229&#34;</span>
    <span style="color:#75715e"># healthcheck: ç”¨äºæ£€æµ‹ docker æœåŠ¡æ˜¯å¦å¥åº·è¿è¡Œã€‚</span>
    <span style="color:#f92672">healthcheck</span>: 
      <span style="color:#f92672">test</span>: [<span style="color:#e6db74">&#34;CMD&#34;</span>, <span style="color:#e6db74">&#34;curl&#34;</span>, <span style="color:#e6db74">&#34;-f&#34;</span>, <span style="color:#e6db74">&#34;http://localhost&#34;</span>] <span style="color:#75715e"># è®¾ç½®æ£€æµ‹ç¨‹åº</span>
      <span style="color:#f92672">interval</span>: <span style="color:#ae81ff">1m30s</span> <span style="color:#75715e"># è®¾ç½®æ£€æµ‹é—´éš”</span>
      <span style="color:#f92672">timeout</span>: <span style="color:#ae81ff">10s</span> <span style="color:#75715e"># è®¾ç½®æ£€æµ‹è¶…æ—¶æ—¶é—´</span>
      <span style="color:#f92672">retries</span>: <span style="color:#ae81ff">3</span> <span style="color:#75715e"># è®¾ç½®é‡è¯•æ¬¡æ•°</span>
      <span style="color:#f92672">start_period</span>: <span style="color:#ae81ff">40s</span> <span style="color:#75715e"># å¯åŠ¨åï¼Œå¤šå°‘ç§’å¼€å§‹å¯åŠ¨æ£€æµ‹ç¨‹åº</span>
    <span style="color:#75715e"># logging æœåŠ¡çš„æ—¥å¿—è®°å½•é…ç½®ã€‚</span>
    <span style="color:#f92672">logging</span>:
      <span style="color:#f92672">driver</span>: <span style="color:#ae81ff">json-file</span>
      <span style="color:#f92672">options</span>:
        <span style="color:#f92672">max-size</span>: <span style="color:#e6db74">&#34;200k&#34;</span> <span style="color:#75715e"># å•ä¸ªæ–‡ä»¶å¤§å°ä¸º200k</span>
        <span style="color:#f92672">max-file</span>: <span style="color:#e6db74">&#34;10&#34;</span> <span style="color:#75715e"># æœ€å¤š10ä¸ªæ–‡ä»¶</span>
    <span style="color:#75715e"># è®¾ç½®ç½‘ç»œæ¨¡å¼ã€‚</span>
    <span style="color:#75715e"># network_mode: &#34;bridge&#34;</span>
    <span style="color:#75715e"># network_mode: &#34;host&#34;</span>
    <span style="color:#75715e"># network_mode: &#34;none&#34;</span>
    <span style="color:#75715e"># network_mode: &#34;service:[service name]&#34;</span>
    <span style="color:#75715e"># network_mode: &#34;container:[container name/id]&#34;</span>
    <span style="color:#f92672">network_mode</span>: <span style="color:#e6db74">&#34;bridge&#34;</span>

    <span style="color:#75715e"># restart: oï¼šæ˜¯é»˜è®¤çš„é‡å¯ç­–ç•¥ï¼Œåœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸ä¼šé‡å¯å®¹å™¨ã€‚alwaysï¼šå®¹å™¨æ€»æ˜¯é‡æ–°å¯åŠ¨ã€‚on-failureï¼šåœ¨å®¹å™¨éæ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€é0ï¼‰ï¼Œæ‰ä¼šé‡å¯å®¹å™¨ã€‚unless-stoppedï¼šåœ¨å®¹å™¨é€€å‡ºæ—¶æ€»æ˜¯é‡å¯å®¹å™¨ï¼Œä½†æ˜¯ä¸è€ƒè™‘åœ¨Dockerå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨æ—¶å°±å·²ç»åœæ­¢äº†çš„å®¹å™¨</span>
    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">unless-stopped</span>

    <span style="color:#75715e"># å­˜å‚¨æ•æ„Ÿæ•°æ®ï¼Œä¾‹å¦‚å¯†ç ï¼š</span>
    <span style="color:#f92672">secrets</span>:
      - <span style="color:#ae81ff">my_secret</span>

    <span style="color:#75715e"># ä¿®æ”¹å®¹å™¨é»˜è®¤çš„ schema æ ‡ç­¾ã€‚</span>
    <span style="color:#f92672">security-opt</span>:
      - <span style="color:#ae81ff">label:user:USER  </span> <span style="color:#75715e"># è®¾ç½®å®¹å™¨çš„ç”¨æˆ·æ ‡ç­¾</span>
      - <span style="color:#ae81ff">label:role:ROLE  </span> <span style="color:#75715e"># è®¾ç½®å®¹å™¨çš„è§’è‰²æ ‡ç­¾</span>
      - <span style="color:#ae81ff">label:type:TYPE  </span> <span style="color:#75715e"># è®¾ç½®å®¹å™¨çš„å®‰å…¨ç­–ç•¥æ ‡ç­¾</span>
      - <span style="color:#ae81ff">label:level:LEVEL </span> <span style="color:#75715e"># è®¾ç½®å®¹å™¨çš„å®‰å…¨ç­‰çº§æ ‡ç­¾</span>

    <span style="color:#75715e"># æŒ‡å®šåœ¨å®¹å™¨æ— æ³•å¤„ç† SIGTERM (æˆ–è€…ä»»ä½• stop_signal çš„ä¿¡å·)ï¼Œç­‰å¾…å¤šä¹…åå‘é€ SIGKILL ä¿¡å·å…³é—­å®¹å™¨ã€‚</span>
    <span style="color:#f92672">stop_grace_period</span>: <span style="color:#ae81ff">1s</span>

    <span style="color:#75715e"># stop_signal</span>
    <span style="color:#f92672">stop_signal</span>: <span style="color:#ae81ff">SIGUSR1</span>

    <span style="color:#75715e"># è®¾ç½®å®¹å™¨ä¸­çš„å†…æ ¸å‚æ•°ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸æ ¼å¼ã€‚</span>
    <span style="color:#f92672">sysctls</span>:
      - <span style="color:#ae81ff">net.core.somaxconn=1024</span>
      - <span style="color:#ae81ff">net.ipv4.tcp_syncookies=0</span>

    <span style="color:#75715e"># åœ¨å®¹å™¨å†…å®‰è£…ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿã€‚å¯ä»¥æ˜¯å•ä¸ªå€¼æˆ–åˆ—è¡¨çš„å¤šä¸ªå€¼ã€‚</span>
    <span style="color:#f92672">tmpfs</span>:
      - <span style="color:#ae81ff">/run</span>
      - <span style="color:#ae81ff">/tmp</span>

    <span style="color:#75715e"># è¦†ç›–å®¹å™¨é»˜è®¤çš„ ulimitã€‚</span>
    <span style="color:#f92672">ulimits</span>:
      <span style="color:#f92672">nproc</span>: <span style="color:#ae81ff">65535</span>
      <span style="color:#f92672">nofile</span>:
        <span style="color:#f92672">soft</span>: <span style="color:#ae81ff">20000</span>
        <span style="color:#f92672">hard</span>: <span style="color:#ae81ff">40000</span>
    <span style="color:#75715e"># å°†ä¸»æœºçš„æ•°æ®å·æˆ–ç€æ–‡ä»¶æŒ‚è½½åˆ°å®¹å™¨é‡Œã€‚</span>
    <span style="color:#f92672">volumes</span>: 
      - <span style="color:#e6db74">&#34;/localhost/postgres.sock:/var/run/postgres/postgres.sock&#34;</span>
      - <span style="color:#e6db74">&#34;/localhost/data:/var/lib/postgresql/data&#34;</span>
    <span style="color:#75715e"># æŒ‡å®šä¸æœåŠ¡çš„éƒ¨ç½²å’Œè¿è¡Œæœ‰å…³çš„é…ç½®ã€‚åªåœ¨ swarm æ¨¡å¼ä¸‹æ‰ä¼šæœ‰ç”¨ã€‚</span>
    <span style="color:#f92672">deploy</span>:
      <span style="color:#75715e"># mode: æŒ‡å®šæœåŠ¡æä¾›çš„æ¨¡å¼ã€‚ 1. replicatedï¼šå¤åˆ¶æœåŠ¡ï¼Œå¤åˆ¶æŒ‡å®šæœåŠ¡åˆ°é›†ç¾¤çš„æœºå™¨ä¸Šã€‚ 2. globalï¼šå…¨å±€æœåŠ¡ï¼ŒæœåŠ¡å°†éƒ¨ç½²è‡³é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹ã€‚</span>
      <span style="color:#f92672">mode</span>: <span style="color:#ae81ff">replicated</span>
      <span style="color:#f92672">replicas</span>: <span style="color:#ae81ff">6</span>
      <span style="color:#75715e"># endpoint_mode: è®¿é—®é›†ç¾¤æœåŠ¡çš„æ–¹å¼ 1. vip: Docker é›†ç¾¤æœåŠ¡ä¸€ä¸ªå¯¹å¤–çš„è™šæ‹Ÿ ipã€‚æ‰€æœ‰çš„è¯·æ±‚éƒ½ä¼šé€šè¿‡è¿™ä¸ªè™šæ‹Ÿ ip åˆ°è¾¾é›†ç¾¤æœåŠ¡å†…éƒ¨çš„æœºå™¨ã€‚2. dnsrr DNS è½®è¯¢ï¼ˆDNSRRï¼‰ã€‚æ‰€æœ‰çš„è¯·æ±‚ä¼šè‡ªåŠ¨è½®è¯¢è·å–åˆ°é›†ç¾¤ ip åˆ—è¡¨ä¸­çš„ä¸€ä¸ª ip åœ°å€ã€‚</span>
      <span style="color:#f92672">endpoint_mode</span>: <span style="color:#ae81ff">dnsrr</span>

      <span style="color:#75715e">#labels åœ¨æœåŠ¡ä¸Šè®¾ç½®æ ‡ç­¾ã€‚å¯ä»¥ç”¨å®¹å™¨ä¸Šçš„ labelsï¼ˆè·Ÿ deploy åŒçº§çš„é…ç½®ï¼‰ è¦†ç›– deploy ä¸‹çš„ labelsã€‚</span>
      <span style="color:#f92672">labels</span>: 
        <span style="color:#f92672">description</span>: <span style="color:#e6db74">&#34;This redis service label&#34;</span>
      <span style="color:#75715e"># é…ç½®æœåŠ¡å™¨èµ„æºä½¿ç”¨çš„é™åˆ¶ï¼Œä¾‹å¦‚ä¸Šä¾‹å­ï¼Œé…ç½® redis é›†ç¾¤è¿è¡Œéœ€è¦çš„ cpu çš„ç™¾åˆ†æ¯” å’Œ å†…å­˜çš„å ç”¨ã€‚é¿å…å ç”¨èµ„æºè¿‡é«˜å‡ºç°å¼‚å¸¸</span>
      <span style="color:#f92672">resources</span>:
        <span style="color:#f92672">limits</span>:
          <span style="color:#f92672">cpus</span>: <span style="color:#e6db74">&#39;0.50&#39;</span>
          <span style="color:#f92672">memory</span>: <span style="color:#ae81ff">50M</span>
        <span style="color:#f92672">reservations</span>:
          <span style="color:#f92672">cpus</span>: <span style="color:#e6db74">&#39;0.25&#39;</span>
          <span style="color:#f92672">memory</span>: <span style="color:#ae81ff">20M</span>
      <span style="color:#75715e"># é…ç½®å¦‚ä½•åœ¨é€€å‡ºå®¹å™¨æ—¶é‡æ–°å¯åŠ¨å®¹å™¨</span>
      <span style="color:#f92672">restart_policy</span>:
        <span style="color:#75715e"># conditionï¼šå¯é€‰ noneï¼Œon-failure æˆ–è€… anyï¼ˆé»˜è®¤å€¼ï¼šanyï¼‰ã€‚</span>
        <span style="color:#f92672">condition</span>: <span style="color:#66d9ef">on</span>-<span style="color:#ae81ff">failure</span>
        <span style="color:#75715e"># delayï¼šè®¾ç½®å¤šä¹…ä¹‹åé‡å¯ï¼ˆé»˜è®¤å€¼ï¼š0ï¼‰ã€‚</span>
        <span style="color:#f92672">delay</span>: <span style="color:#ae81ff">5s</span>
        <span style="color:#75715e"># max_attemptsï¼šå°è¯•é‡æ–°å¯åŠ¨å®¹å™¨çš„æ¬¡æ•°ï¼Œè¶…å‡ºæ¬¡æ•°ï¼Œåˆ™ä¸å†å°è¯•ï¼ˆé»˜è®¤å€¼ï¼šä¸€ç›´é‡è¯•ï¼‰ã€‚</span>
        <span style="color:#f92672">max_attempts</span>: <span style="color:#ae81ff">3</span>
        <span style="color:#75715e"># windowï¼šè®¾ç½®å®¹å™¨é‡å¯è¶…æ—¶æ—¶é—´ï¼ˆé»˜è®¤å€¼ï¼š0ï¼‰ã€‚</span>
        <span style="color:#f92672">window</span>: <span style="color:#ae81ff">120s</span>
      <span style="color:#75715e"># é…ç½®åœ¨æ›´æ–°å¤±è´¥çš„æƒ…å†µä¸‹åº”å¦‚ä½•å›æ»šæœåŠ¡ã€‚</span>
      <span style="color:#f92672">rollback_config</span>: 
        <span style="color:#75715e"># parallelism: ä¸€æ¬¡è¦å›æ»šçš„å®¹å™¨æ•°ã€‚å¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™æ‰€æœ‰å®¹å™¨å°†åŒæ—¶å›æ»šã€‚</span>
        <span style="color:#f92672">parallelism</span>: <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># delay: æ¯ä¸ªå®¹å™¨ç»„å›æ»šä¹‹é—´ç­‰å¾…çš„æ—¶é—´ï¼ˆé»˜è®¤ä¸º0sï¼‰ã€‚</span>
        <span style="color:#f92672">delay</span>: <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># failure_action: å¦‚æœå›æ»šå¤±è´¥ï¼Œè¯¥æ€ä¹ˆåŠã€‚å…¶ä¸­ä¸€ä¸ª continue æˆ–è€… pauseï¼ˆé»˜è®¤pauseï¼‰ã€‚</span>
        <span style="color:#f92672">failure_action</span>: <span style="color:#ae81ff">continue</span>
        <span style="color:#75715e"># monitor: æ¯ä¸ªå®¹å™¨æ›´æ–°åï¼ŒæŒç»­è§‚å¯Ÿæ˜¯å¦å¤±è´¥äº†çš„æ—¶é—´ (ns|us|ms|s|m|h)ï¼ˆé»˜è®¤ä¸º0sï¼‰ã€‚</span>
        <span style="color:#f92672">monitor</span>: <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># max_failure_ratio: åœ¨å›æ»šæœŸé—´å¯ä»¥å®¹å¿çš„æ•…éšœç‡ï¼ˆé»˜è®¤ä¸º0ï¼‰ã€‚</span>
        <span style="color:#f92672">max_failure_ratio</span>: <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># order: å›æ»šæœŸé—´çš„æ“ä½œé¡ºåºã€‚å…¶ä¸­ä¸€ä¸ª stop-firstï¼ˆä¸²è¡Œå›æ»šï¼‰ï¼Œæˆ–è€… start-firstï¼ˆå¹¶è¡Œå›æ»šï¼‰ï¼ˆé»˜è®¤ stop-first ï¼‰ã€‚</span>
        <span style="color:#f92672">order</span>: <span style="color:#ae81ff">start-first</span>
      <span style="color:#75715e"># é…ç½®åº”å¦‚ä½•æ›´æ–°æœåŠ¡ï¼Œå¯¹äºé…ç½®æ»šåŠ¨æ›´æ–°å¾ˆæœ‰ç”¨ã€‚</span>
      <span style="color:#f92672">update_config</span>:
        <span style="color:#75715e"># parallelismï¼š ä¸€æ¬¡æ›´æ–°çš„å®¹å™¨æ•°ã€‚</span>
        <span style="color:#f92672">parallelism</span>: <span style="color:#ae81ff">5</span>
        <span style="color:#75715e"># delayï¼šåœ¨æ›´æ–°ä¸€ç»„å®¹å™¨ä¹‹é—´ç­‰å¾…çš„æ—¶é—´ã€‚</span>
        <span style="color:#f92672">delay</span>: <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># failure_actionï¼šå¦‚æœæ›´æ–°å¤±è´¥ï¼Œè¯¥æ€ä¹ˆåŠã€‚å…¶ä¸­ä¸€ä¸ª continueï¼Œrollback æˆ–è€…pause ï¼ˆé»˜è®¤ï¼špauseï¼‰ã€‚</span>
        <span style="color:#f92672">failure_action</span>: <span style="color:#ae81ff">pause</span>
        <span style="color:#75715e"># monitorï¼šæ¯ä¸ªå®¹å™¨æ›´æ–°åï¼ŒæŒç»­è§‚å¯Ÿæ˜¯å¦å¤±è´¥äº†çš„æ—¶é—´ (ns|us|ms|s|m|h)ï¼ˆé»˜è®¤ä¸º0sï¼‰ã€‚</span>
        <span style="color:#f92672">monitor</span>: <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># max_failure_ratioï¼šåœ¨æ›´æ–°è¿‡ç¨‹ä¸­å¯ä»¥å®¹å¿çš„æ•…éšœç‡ã€‚</span>
        <span style="color:#f92672">max_failure_ratio</span>: <span style="color:#ae81ff">0</span>
        <span style="color:#75715e"># orderå›æ»šæœŸé—´çš„æ“ä½œé¡ºåºã€‚å…¶ä¸­ä¸€ä¸ª stop-firstï¼ˆä¸²è¡Œå›æ»šï¼‰ï¼Œæˆ–è€… start-firstï¼ˆå¹¶è¡Œå›æ»šï¼‰ï¼ˆé»˜è®¤stop-firstï¼‰ã€‚</span>
        <span style="color:#f92672">order</span>: <span style="color:#ae81ff">stop-first</span>
</code></pre></div><h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™</h3>
<ul>
<li><a href="https://www.runoob.com/docker/docker-compose.html" target="_blank" rel="noopener">docker-compose</a></li>
</ul>

          </div>
        </div>
                 
      
  
  
  
  

  

  <div class="article-paging">
    
      <section class="post-paging--item card-container content-padding-primary soft-size--primary soft-style--box">
  <div class="card-cover" ></div>
  <div class="card-text">
    <a href="/posts/202012171600/"><h4 class="card-text--title text-ellipsis">Docker Dockerfile</h4></a>
    <p class="card-text--row">2020-12-17 16:00</p>
  </div>
</section>
    
    
      <section class="post-paging--item card-container content-padding-primary soft-size--primary soft-style--box">
  <div class="card-cover" ></div>
  <div class="card-text">
    <a href="/posts/202012171449/"><h4 class="card-text--title text-ellipsis">Docker Mirror</h4></a>
    <p class="card-text--row">2020-12-17 14:49</p>
  </div>
</section>
    
  </div>
</div>
  <aside class="widget-info">
    
<section class="aside-widget widget-author content-padding-large soft-size--large soft-style--box">
  <div class="widget-body">
    <div class="author-box avatar">
      
      <img class="author-avatar soft-size--round soft-style--box" src="/favicon.png" alt="strawbreey">
      
      <h2 class="author-name text-ellipsis">strawbreey</h2>
      
      <p class="author-desc text-ellipsis">strawbreey</p>
      
    </div>
  </div>
</section>


    


    










<section class="aside-widget widget-articles content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>Related Posts</span>
    </div>
  </h2>
  <div class="widget-body">
    <ul class="post-list">
      
      
        <li class="post-item"><a href="/posts/202107261428/">Gin Start</a></li>
      
        <li class="post-item"><a href="/posts/202109271035/">Go Strings</a></li>
      
        <li class="post-item"><a href="/posts/202109261815/">Php Error Reporting</a></li>
      
        <li class="post-item"><a href="/posts/202109261812/">Php Isset</a></li>
      
        <li class="post-item"><a href="/posts/202109261641/">Php Empty</a></li>
      
        <li class="post-item"><a href="/posts/202109242025/">Go Rune to String</a></li>
      
    </ul>
  </div>
</section>


    




<section class="aside-widget widget-categories content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>Categories</span>
    </div>
  </h2>
  <div class="widget-body">
    <ul class="categories-list">
      
        <li>
          <a href="https://note.strawbreey.com/categories/go/">GO</a>
          <span>8</span>
        </li>
      
    </ul>
  </div>

  
</section>


    




<section class="aside-widget widget-tags content-padding-large soft-size--large soft-style--box">
  <h2 class="widget-header">
    <div class="title">
      <span>Tags</span>
    </div>
  </h2>
  <div class="widget-body">
    <div class="tags-list">
      
        <a href="https://note.strawbreey.com/tags/php/" data-count="24" class="soft-size--small soft-style--hover soft-style--active">php</a>
      
        <a href="https://note.strawbreey.com/tags/leetcode/" data-count="14" class="soft-size--small soft-style--hover soft-style--active">leetcode</a>
      
        <a href="https://note.strawbreey.com/tags/go/" data-count="8" class="soft-size--small soft-style--hover soft-style--active">GO</a>
      
        <a href="https://note.strawbreey.com/tags/vscode/" data-count="3" class="soft-size--small soft-style--hover soft-style--active">vscode</a>
      
        <a href="https://note.strawbreey.com/tags/git/" data-count="2" class="soft-size--small soft-style--hover soft-style--active">git</a>
      
        <a href="https://note.strawbreey.com/tags/mysql/" data-count="2" class="soft-size--small soft-style--hover soft-style--active">mysql</a>
      
        <a href="https://note.strawbreey.com/tags/webapi/" data-count="2" class="soft-size--small soft-style--hover soft-style--active">webApi</a>
      
        <a href="https://note.strawbreey.com/tags/angular/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">angular</a>
      
        <a href="https://note.strawbreey.com/tags/devops/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">devops</a>
      
        <a href="https://note.strawbreey.com/tags/interview/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">interview</a>
      
        <a href="https://note.strawbreey.com/tags/toggle/" data-count="1" class="soft-size--small soft-style--hover soft-style--active">toggle</a>
      
    </div>
  </div>

  
</section>

  </aside>
</div>
  </main><footer class="footer-container layout-block">
  
  <div class="social-icons">
    
      <a class="soft-size--primary soft-style--box" href="https://github.com/strawbreey" target="_blank" rel="noopener noreferrer">
          
        <svg class="icon icon-github" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
          <path d="M64.6 512c0 195.6 125.4 361.9 300.1 422.9 23.5 5.9 19.9-10.8 19.9-22.2v-77.6c-135.8 15.9-141.3-74-150.5-89-18.5-31.5-61.9-39.5-49-54.5 31-15.9 62.5 4 98.9 58 26.4 39.1 77.9 32.5 104.1 26 5.7-23.5 17.9-44.5 34.7-60.9-140.7-25.2-199.4-111.1-199.4-213.3 0-49.5 16.4-95.1 48.4-131.8-20.4-60.6 1.9-112.4 4.9-120.1 58.2-5.2 118.5 41.6 123.3 45.3 33.1-8.9 70.8-13.7 112.9-13.7 42.4 0 80.3 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.4-43.9 2.9 7.7 24.7 58.3 5.5 118.1 32.5 36.8 49 82.8 49 132.4 0 102.3-59 188.3-200.2 213.2 23.5 23.3 38.1 55.5 38.1 91.1v112.7c0.8 9 0 17.9 15.1 17.9C832.7 877 960.4 709.4 960.4 512.1c0-247.5-200.6-447.9-447.9-447.9C265 64.1 64.6 264.5 64.6 512z"></path>
        </svg>
        

        

        

        

        
      </a>
    
      <a class="soft-size--primary soft-style--box" href="1245788423@qq.com" target="_blank" rel="noopener noreferrer">
        

        

        

        

        
      </a>
    
  </div>
  

  <div class="colour-bar"></div>
  
  
  <p>Â© 2021 <a href="https://github.com/miiiku/hugo-theme-kagome">kagome</a>.</p>
  

  

  <p>
    Powered by
    <a href="https://gohugo.io/" target="_blank" rel="noopener noreferrer">Hugo</a>
    Theme - 
    <a href="https://github.com/miiiku/hugo-theme-kagome" target="_blank" rel="noopener noreferrer author">kagome</a>
  </p>

  <p>
    <a href="javascript:;" id="theme-light">ğŸŒ light</a>
    <a href="javascript:;" id="theme-dark">ğŸŒ› dark</a>
    <a href="javascript:;" id="theme-auto">ğŸ¤–ï¸ auto</a>
  </p>
</footer>







</body>

</html>