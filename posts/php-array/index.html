<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        Php Array ::
        Strawbreey Notes
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="An array in PHP is actually an ordered map. A map is a type that associates values to keys. This type is optimized for several different uses; it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more. As array values can be other arrays, trees and multidimensional arrays are also possible.
PHP 中的数组实际上是一个有序映射。映射是一种把 values 关联到 keys 的类型。此类型在很多方面做了优化，因此可以把它当成真正的数组，或列表（向量），散列表（是映射的一种实现），字典，集合，栈，队列以及更多可能性。由于数组元素的值也可以是另一个数组，树形结构和多维数组也是允许的。"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/posts/php-array/" />





<link rel="stylesheet" href="/assets/style.css" />

<link rel="stylesheet" href="/style.css" />


<link
  rel="apple-touch-icon-precomposed"
  sizes="144x144"
  href="/img/apple-touch-icon-144-precomposed.png"
/>
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/assets/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/assets/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Php Array"/>
<meta name="twitter:description" content="An array in PHP is actually an ordered map. A map is a type that associates values to keys. This type is optimized for several different uses; it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more. As array values can be other arrays, trees and multidimensional arrays are also possible.
PHP 中的数组实际上是一个有序映射。映射是一种把 values 关联到 keys 的类型。此类型在很多方面做了优化，因此可以把它当成真正的数组，或列表（向量），散列表（是映射的一种实现），字典，集合，栈，队列以及更多可能性。由于数组元素的值也可以是另一个数组，树形结构和多维数组也是允许的。"/>



<meta property="og:title" content="Php Array" />
<meta property="og:description" content="An array in PHP is actually an ordered map. A map is a type that associates values to keys. This type is optimized for several different uses; it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more. As array values can be other arrays, trees and multidimensional arrays are also possible.
PHP 中的数组实际上是一个有序映射。映射是一种把 values 关联到 keys 的类型。此类型在很多方面做了优化，因此可以把它当成真正的数组，或列表（向量），散列表（是映射的一种实现），字典，集合，栈，队列以及更多可能性。由于数组元素的值也可以是另一个数组，树形结构和多维数组也是允许的。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/php-array/" />
<meta property="article:published_time" content="2020-09-23T10:09:47+08:00" />
<meta property="article:modified_time" content="2020-09-23T10:09:47+08:00" /><meta property="og:site_name" content="Strawbreey Notes" />






  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >Strawbreey Notes</span
    >
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/showcase">Showcase</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/showcase">Showcase</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <div class="post">
    <h1 class="post-title">Php Array</h1>
    <div class="post-meta">
      
        <span class="post-date">
          2020-09-23
        </span>

        
          
        
      

      


      
    </div>

    

    

    <div class="post-content">
      
      <p>An array in PHP is actually an ordered map. A map is a type that associates values to keys. This type is optimized for several different uses; it can be treated as an array, list (vector), hash table (an implementation of a map), dictionary, collection, stack, queue, and probably more. As array values can be other arrays, trees and multidimensional arrays are also possible.</p>
<p>PHP 中的数组实际上是一个有序映射。映射是一种把 values 关联到 keys 的类型。此类型在很多方面做了优化，因此可以把它当成真正的数组，或列表（向量），散列表（是映射的一种实现），字典，集合，栈，队列以及更多可能性。由于数组元素的值也可以是另一个数组，树形结构和多维数组也是允许的。</p>
<h3 id="定义数组">定义数组</h3>
<p>可以用 array() 语言结构来新建一个数组。它接受任意数量用逗号分隔的 键（key） =&gt; 值（value）对。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">array(  key =&gt;  value
     , ...
     )
// 键（key）可是是一个整数 integer 或字符串 string
// 值（value）可以是任意类型的值
</code></pre></div><p>最后一个数组单元之后的逗号可以省略。通常用于单行数组定义中，例如常用 array(1, 2) 而不是 array(1, 2, )。对多行数组定义通常保留最后一个逗号，这样要添加一个新单元时更方便。</p>
<p>自 5.4 起可以使用短数组定义语法，用 [] 替代 array()。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$array = array(
    &#34;foo&#34; =&gt; &#34;bar&#34;,
    &#34;bar&#34; =&gt; &#34;foo&#34;,
);

// 自 PHP 5.4 起
$array = [
    &#34;foo&#34; =&gt; &#34;bar&#34;,
    &#34;bar&#34; =&gt; &#34;foo&#34;,
];
</code></pre></div><p>key 可以是 integer 或者 string。value 可以是任意类型。</p>
<p>此外 <code>key</code> 会有如下的强制转换：</p>
<ul>
<li>包含有合法整型值的字符串会被转换为整型。例如键名 &ldquo;8&rdquo; 实际会被储存为 8。但是 &ldquo;08&rdquo; 则不会强制转换，因为其不是一个合法的十进制数值。</li>
<li>浮点数也会被转换为整型，意味着其小数部分会被舍去。例如键名 8.7 实际会被储存为 8。</li>
<li>布尔值也会被转换成整型。即键名 true 实际会被储存为 1 而键名 false 会被储存为 0。</li>
<li>Null 会被转换为空字符串，即键名 null 实际会被储存为 &ldquo;&quot;。</li>
<li>数组和对象不能被用为键名。坚持这么做会导致警告：Illegal offset type。</li>
</ul>
<h4 id="类型强制与覆盖示例">类型强制与覆盖示例</h4>
<p>如果在数组定义中多个单元都使用了同一个键名，则只使用了最后一个，之前的都被覆盖了。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$array = array(
    1    =&gt; &#34;a&#34;,
    &#34;1&#34;  =&gt; &#34;b&#34;,
    1.5  =&gt; &#34;c&#34;,
    true =&gt; &#34;d&#34;,
);

var_dump($array); 

// array(1) {
//   [1]=&gt;
//   string(1) &#34;d&#34;
// }

</code></pre></div><h4 id="混合-integer-和-string-键名">混合 integer 和 string 键名</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$array = array(
    &#34;foo&#34; =&gt; &#34;bar&#34;,
    &#34;bar&#34; =&gt; &#34;foo&#34;,
    100   =&gt; -100,
    -100  =&gt; 100,
);
// array(4) {
//   [&#34;foo&#34;]=&gt;
//   string(3) &#34;bar&#34;
//   [&#34;bar&#34;]=&gt;
//   string(3) &#34;foo&#34;
//   [100]=&gt;
//   int(-100)
//   [-100]=&gt;
//   int(100)
// }
</code></pre></div><p>PHP 数组可以同时含有 integer 和 string 类型的键名，因为 PHP 实际并不区分索引数组和关联数组。</p>
<h4 id="没有键名的索引数组">没有键名的索引数组</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">
$array = array(&#34;foo&#34;, &#34;bar&#34;, &#34;hallo&#34;, &#34;world&#34;);

// array(4) {
//   [0]=&gt;
//   string(3) &#34;foo&#34;
//   [1]=&gt;
//   string(3) &#34;bar&#34;
//   [2]=&gt;
//   string(5) &#34;hallo&#34;
//   [3]=&gt;
//   string(5) &#34;world&#34;
// }
</code></pre></div><h4 id="仅对部分单元指定键名">仅对部分单元指定键名</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$array = array(
         &#34;a&#34;,
         &#34;b&#34;,
    6 =&gt; &#34;c&#34;,
         &#34;d&#34;,
);

// array(4) {
//   [0]=&gt;
//   string(1) &#34;a&#34;
//   [1]=&gt;
//   string(1) &#34;b&#34;
//   [6]=&gt;
//   string(1) &#34;c&#34;
//   [7]=&gt;
//   string(1) &#34;d&#34;
// }
</code></pre></div><h4 id="方括号语法访问数组单元">方括号语法访问数组单元</h4>
<p>数组单元可以通过 array[key] 语法来访问。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$array = array(
    &#34;foo&#34; =&gt; &#34;bar&#34;,
    42    =&gt; 24,
    &#34;multi&#34; =&gt; array(
         &#34;dimensional&#34; =&gt; array(
             &#34;array&#34; =&gt; &#34;foo&#34;
         )
    )
);

var_dump($array[&#34;foo&#34;]); // string(3) &#34;bar&#34;
var_dump($array[42]); // init(24)
var_dump($array[&#34;multi&#34;][&#34;dimensional&#34;][&#34;array&#34;]); // string(3) &#34;f66&#34;

</code></pre></div><p>方括号和花括号可以互换使用来访问数组单元（例如 $array[42] 和 $array{42} 在上例中效果相同）。</p>
<h4 id="数组解引用">数组解引用</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">function getArray() {
    return array(1, 2, 3);
}

// on PHP 5.4
$secondElement = getArray()[1];

// previously
$tmp = getArray();
$secondElement = $tmp[1];

// or
list(, $secondElement) = getArray();
</code></pre></div><blockquote>
<p>试图访问一个未定义的数组键名与访问任何未定义变量一样：会导致 E_NOTICE 级别错误信息，其结果为 NULL。</p>
</blockquote>
<h4 id="用方括号的语法新建修改">用方括号的语法新建/修改</h4>
<p>可以通过明示地设定其中的值来修改一个已有数组。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$arr[key] = value;
$arr[] = value;
// key 可以是 integer 或 string
// value 可以是任意类型的值`
</code></pre></div><p>要修改某个值，通过其键名给该单元赋一个新值。要删除某键值对，对其调用 unset() 函数。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">
$arr = array(5 =&gt; 1, 12 =&gt; 2);

$arr[] = 56;    // This is the same as $arr[13] = 56;
                // at this point of the script

$arr[&#34;x&#34;] = 42; // This adds a new element to
                // the array with key &#34;x&#34;
                
unset($arr[5]); // This removes the element from the array

unset($arr);    // This deletes the whole array

</code></pre></div><blockquote>
<p>如上所述，如果给出方括号但没有指定键名，则取当前最大整数索引值，新的键名将是该值加上 1（但是最小为 0）。如果当前还没有整数索引，则键名将为 0。</p>
</blockquote>
<h3 id="常用array函数">常用Array函数</h3>
<h4 id="unset-函数">unset 函数</h4>
<p>unset() 函数允许删除数组中的某个键。但要注意数组将不会重建索引。如果需要删除后重建索引，可以用 array_values() 函数。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$a = array(1 =&gt; &#39;one&#39;, 2 =&gt; &#39;two&#39;, 3 =&gt; &#39;three&#39;);
unset($a[2]);
/* will produce an array that would have been defined as
   $a = array(1 =&gt; &#39;one&#39;, 3 =&gt; &#39;three&#39;);
   and NOT
   $a = array(1 =&gt; &#39;one&#39;, 2 =&gt;&#39;three&#39;);
*/

$b = array_values($a);
// Now $b is array(0 =&gt; &#39;one&#39;, 1 =&gt;&#39;three&#39;)
</code></pre></div><h4 id="foreach">foreach</h4>
<h3 id="转换为数组">转换为数组</h3>
<p>对于任意 integer，float，string，boolean 和 resource 类型，如果将一个值转换为数组，将得到一个仅有一个元素的数组，其下标为 0，该元素即为此标量的值。换句话说，(array)$scalarValue 与 array($scalarValue) 完全一样。</p>
<p>如果一个 object 类型转换为 array，则结果为一个数组，其单元为该对象的属性。键名将为成员变量名，不过有几点例外：整数属性不可访问；私有变量前会加上类名作前缀；保护变量前会加上一个 &lsquo;*&rsquo; 做前缀。这些前缀的前后都各有一个 NULL 字符。这会导致一些不可预知的行为：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">
class A {
    private $A; // This will become &#39;\0A\0A&#39;
}

class B extends A {
    private $A; // This will become &#39;\0B\0A&#39;
    public $AA; // This will become &#39;AA&#39;
}

var_dump((array) new B());

</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">foreach ($colors as <span style="color:#960050;background-color:#1e0010">&amp;</span>$color) {
    $color = strtoupper($color); // 大写
}
unset($color); /* ensure that following writes to
$color will not modify the last array element */

// Workaround for older versions
foreach ($colors as $key =&gt; $color) {
   
</code></pre></div><h4 id="比较">比较</h4>
<p>可以用array_diff() 和 数组运算符来比较数组</p>
<h4 id="在循环中改变单元">在循环中改变单元</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-PHP" data-lang="PHP">// PHP 5
foreach ($colors as <span style="color:#960050;background-color:#1e0010">&amp;</span>$color) {
    $color = strtoupper($color);
}
unset($color); /* ensure that following writes to
$color will not modify the last array element */

// Workaround for older versions
foreach ($colors as $key =&gt; $color) {
    $colors[$key] = strtoupper($color);
}

print_r($colors);
</code></pre></div><h4 id="下标从-1-开始的数组">下标从 1 开始的数组</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$firstquarter  = array(1 =&gt; &#39;January&#39;, &#39;February&#39;, &#39;March&#39;);
print_r($firstquarter);

// Array 
// (
//     [1] =&gt; &#39;January&#39;
//     [2] =&gt; &#39;February&#39;
//     [3] =&gt; &#39;March&#39;
// )


</code></pre></div><h4 id="填充数组">填充数组</h4>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">$handle = opendir(&#39;.&#39;);
while (false !== ($file = readdir($handle))) {
    $files[] = $file;
}
closedir($handle); 

</code></pre></div><h4 id="数组排序">数组排序</h4>
<p>因为数组中的值可以为任意值，也可是另一个数组。这样可以产生递归或多维数组。
s</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php">
sort($files);
print_r($files);
</code></pre></div><h3 id="生词">生词</h3>
<pre><code>ordered map 有序映射
associat 关联
optimized optimized
treated as 当作 像...一样对待
dictionary 字典
collection 集合
multidimensional 多维数组
hash table 散列表
implementation 实现
</code></pre>
    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Read other posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="/posts/php-object/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Php Object</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="/posts/web-safe/">
                  <span class="button__text">Web Safe</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </div>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">Copyright©2019-2020 Strawbreey. All Rights Reserved</div>
      
  </div>
</footer>

<script src="/assets/main.js"></script>
<script src="/assets/prism.js"></script>


      
    </div>

    
  </body>
</html>
